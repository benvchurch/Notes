\documentclass[12pt]{article}
\usepackage{import}
\import{./}{AlgGeoCommands}
\renewcommand{\U}{\mathfrak{U}}

\begin{document}

\section{Locally Free Sheaves}

\section{Algebraic Vector Bundles}

\section{Derivations}

\begin{defn}
Let $\sA$ be a sheaf of algebras and $\sB$ an $\sA$-algebra and $\F$ a $\sB$-module. Then an $\sA$-derivation $D : \sB \to \F$ is a $\sA$-module map such that on all local sections,
\[ D(fg) = D(f) g + f D(g) \]
Furthermore, we write $\shDero{\sA}{\sB}{\F} \subset \shHom{\sA}{\sB}{\F}$ for the $\sA$-submodule of derivations.
\end{defn}

\begin{defn}
If the functor $\F \mapsto \shDero{\sA}{\sB}{\F}$ is representable on the category on $\sB$-modules then we say the representing pair $(\Omega_{\sB/\sA}, \d)$ is the $\sB$-module of $\sA$-differentials where,
\[ \shHom{\sA}{\Omega_{\sB/\sA}}{\F} = \shDero{\sA}{\sB}{\F} \]
and the derivation $\d : \sB \to \Omega_{\sB/\sA}$ is the universal element given by,
\[ \id \in \shHom{\sA}{\Omega_{\sB/\sA}}{\Omega_{\sB/\sA}} = \shDero{\sA}{\sB}{\Omega_{\sB/\sA}} \]
\end{defn}

\begin{defn}
Given morphism of locally ringed spaces $f : X \to S$ we say that $(\Omega_{X/S}, \d)$ is the $\struct{X}$-module of $f^{-1} \struct{S}$-differentials viewing $\struct{X}$ as a $f^{-1} \struct{S}$-algebra via the map $f^{-1} \struct{S} \to \struct{X}$.
\end{defn}

\section{Connections}

\begin{rmk}
Here we have a locally ringed space $X \to S$ over $S$. We write $\Omega_X = \Omega_{X/S}$ and 
\end{rmk}

\begin{defn}
A connection on a vector bundle $\E$ on $X$ in a $\struct{S}$-linear derivation, 
\[ \nabla : \E \to \Omega^1_X \otimes_{\struct{X}} \E \]
\end{defn}

\begin{lemma}
Suppose that $\nabla_1, \nabla_2 : \E \to \Omega^1_X \otimes_{\struct{X}} \E$ are connections. Then,
\[ \nabla_1 - \nabla_2 : \E \to \Omega^1_X \otimes_{\struct{X}} \E \]
is a $\struct{X}$-module map.
\end{lemma}

\begin{proof}
$(\nabla_1 - \nabla_2)(fs) = f (\nabla_1 s  - \nabla_2 s) + \d{f} \otimes s - \d{f} \otimes s = f (\nabla_1 - \nabla_2) s$.
\end{proof}

\begin{rmk}
Therefore, the space of connections is a affine subspace of $\Hom{}{\E}{\Omega^1_X \E}$. Then if $\E$ is finite locally free, 
\[ \Hom{}{\E}{\Omega^1_X \E} = H^0(X, \Omega^1_X \otimes_{\struct{X}} \shEnd{\struct{S}}{\E}) \]
\end{rmk}

\begin{defn}
The first Chern class $c_1 : \Pic{X} \to H^1(X, \Omega^1) \subset H^2_{\dR}(X)$ is defined by $H^1(X, -)$ applied to the map $\d{\log} : \struct{X}^\times \to \Omega^1_X$ defined as $\d{\log}(f) = f^{-1} \d{f}$.
\end{defn}

\begin{prop}
A line bundle $\L$ admits a connection $\nabla : \L \to \Omega^1_X \otimes_{\struct{X}} \L$ if and only if $c_1(\L) = 0$.
\end{prop}

\begin{proof}
A line bundle $\L$ is represented by a Cech cocycle $(U_i, f_{ij}) \in H^1(X, \struct{X}^\times)$. Then a connection on a line bundle is represented by $(U_i, \omega_i)$ with $\omega_i \in \Omega^1_X(U_i)$ where $(U_i, s_i)$ is a trivialization of $\L$ with $\struct{U_i} \xrightarrow{s_i} \L|_{U_i}$ then $s_i |_{U_i \cap U_j} = f_{ij} s_j |_{U_i \cap U_j}$ and $\nabla s_i = \omega_i \otimes s_i$. However, we must have on $U_i \cap U_j$,
\[ \nabla s_i = \nabla f_{ij} s_j = f_{ij} \nabla s_j + \d{f_{ij}} \otimes s_j \]
Therefore,
\[ \omega_i \otimes f_{ij} s_j = f_{ij} \omega_j \otimes s_j + \d{f_{ij}} \otimes s_j \]
and thus,
\[ (\omega_i - \omega_j)|_{U_i \cap U_j} = \d{\log}(f_{ij}) \]
Consider the Cech differential $\d : \check{C}^0(\U, \Omega^1_X) \to \check{C}^1(\U, \Omega^1_X)$ which takes the sections $(\omega_i)$ to the coboundary $(\omega_i - \omega_j)|_{U_{ij}}$. Therefore, such a connection i.e. such a class exists iff the class,
\[ c_1(\L) = [\d{\log}(f_{ij})] \in \check{H}^1(X, \Omega^1_X) \]
is trivial since it is a coboundary. 
\end{proof}

\section{Curvature}

\begin{definition}
The connection $\nabla$ defines a corresponding curvature map,
\[ \omega_\nabla = \nabla_1 \circ \nabla : \E \to \Omega^2_X \otimes_{\struct{S}} \E \]
We say that $\nabla$ is flat or integrable if the curvature vanishes $\omega_\nabla = \nabla_1 \circ \nabla = 0$.
\end{definition}

\begin{lemma}
The curvature $\omega_\nabla : \E \to \Omega^2_X \otimes_{\struct{X}} \E$ is a $\struct{X}$-module map.
\end{lemma}

\begin{proof}
Consider,
\begin{align*}
\omega_\nabla(f s) & = \nabla_1 (\d{f} \otimes s + f \nabla s) = \d{\d{f}} \otimes s - \d{f} \wedge \nabla s + \d{f} \wedge \nabla s + f \nabla_1 \circ \nabla 
\\
& = f \nabla_1 \circ \nabla s = f \: \omega_\nabla (s) 
\end{align*} 
\end{proof}

\begin{rmk}
Therefore $\omega_\nabla$ defines the curvature form $\omega_\nabla \in \Gamma(X, \Omega_X^2 \otimes \shEnd{\struct{X}}{\E})$.
\end{rmk}



\begin{remark}
If we write locally,
\[ \nabla e = \sum_i f_i \d{g_i} \otimes s_i \]
then the curvature takes the form,
\[ \omega_\nabla (e) = \sum_{i} (\d{f_i} \wedge \d{g_i} \otimes e - f_i \d{g_i} \otimes \nabla s_i) \]
\end{remark} 

\section{Differential Operators}

\begin{defn}
Let $\sA$ be a sheaf of algebras and $\sB$ an $\sA$-algebra and $\F, \G$ be $\sB$-modules. Then a differential operator $D : \F \to \G$ of order $k$ is a $\sA$-module map such that for all local sections $b \in \Gamma(U, \sB)$ the map, $D(b \cdot -) - b \cdot D : \Gamma(U, \F) \to \Gamma(U, \G)$ is a differential operator of order $k - 1$. Where a differential operator of order $k = 0$ is a $\sB$-linear map $D : \F \to \G$. Furthermore, we write $\shDiff{k}{\sB/\sA}{\F}{\G} \subset \shHom{\sB}{\F}{\G}$ to denote the $\sB$-submodule of differential operators of order $k$.
\end{defn}

\section{Sheaves of Jets}

\section{The Atiyah Class}

\section{Riemann-Hilbert Correspondence}



\section{Connections on Real and Complex Manifolds}

\begin{rmk}
Let $\nabla : \E \to \Omega^1_X \otimes \E$ be a connection. For a vector field $X$ we write $\nabla_X : \E \to \E$ for the map,
\[ \E \xrightarrow{\nabla} \Omega^1_X \otimes \E \xrightarrow{X \otimes \id} \struct{X} \otimes \E \to \E \]
Therefore, in previous notation $\nabla_X = Q(X)$. Thus we see that, viewing $\omega_\nabla \in \Omega^2_X \otimes \shEnd{\struct{X}}{\E}$ that,
\[ \omega_\nabla(X, Y) = \nabla_X \nabla_Y - \nabla_Y \nabla_X - \nabla_{[X, Y]} \]
When $\nabla$ is the Levi-Civita connection then $\omega_\nabla$ is the Riemann tensor.
\end{rmk}

\begin{defn}
A form $\sigma \in \Gamma(X, \Omega_X \otimes \E)$ is called a \textit{solder form} if $\sigma : \sT_X \to \E$ is an isomorphism. Given a connection $\nabla : \E \to \Omega_X \otimes \E$, the \textit{torsion} is $T_{(\nabla, \sigma)} = \nabla_1 \sigma \in \Gamma(X, \Omega_X^2 \otimes \E)$.
\end{defn}

\begin{rmk}
Choose a local frame $\{ e_i \}$ of $\E|_U \cong \struct{U}^{\oplus n}$ and $\{ \sigma_i \}$ of $\Omega_X$ compatibly via $\sigma$. Then,
\[ \sigma = \sum_{i} \sigma_i \otimes e_i \]
and write,
\[ \nabla e_j = \sum_i \omega_{ij} \otimes e_i \]
for 1-forms $\omega_{ij} \in \Omega^1_X(U)$.
Then we compute,
\begin{align*}
\nabla_1 \sigma & = \sum_i \d{\sigma_i} \otimes e_i - \sum_j \sigma_j \wedge \nabla e_j
\\
& = \sum_{i} \left( \d{\sigma_i} + \sum_j \omega_{ij} \wedge \sigma_j \right) \otimes e_i 
\end{align*}
Therefore,
\[ T_{(\nabla, \sigma)} = 0 \iff \tau_i = \d{\sigma_i} + \sum_j \omega_{ij} \wedge \sigma_j = 0 \]
\end{rmk}

\begin{rmk}
For $\E = \T_X$ we have a canonical solder form $\sigma_{\id}$ given by $\id : \T_X \to \T_X$. Then $T_{\nabla} = T_{(\nabla, \sigma_\id)}$ is the torsion of $\nabla$. In local coodinates,
\[ \sigma_{\id} = \sum_{j} \d{x^j} \otimes \pderiv{}{x^j} \quad \text{ and } \quad \nabla \pderiv{}{x^j} = \sum_i \omega_{ij} \otimes \pderiv{}{x^i}  \]
Then,
\[ \nabla_1(\sigma_{\id}) = -\sum_{i,j} (\d{x^j} \wedge \omega_{ij}) \otimes \pderiv{}{x^j} \]
Therefore, if $X = v^i \pderiv{}{x^i}$ and $Y = u^i \pderiv{}{x^i}$ we find that,
\begin{align*}
T_\nabla(X, Y) = \sum_{i,j} \left( u^j v^k \omega_{ij}\left(\pderiv{}{x^k}\right) - v^j u^k \omega_{ij} \left( \pderiv{}{x^k} \right) \right)  \otimes \pderiv{}{x^j}
\end{align*}
However,
\begin{align*}
\nabla_X Y - \nabla_Y X & =  \sum_{i,j} \left( u^j v^k \omega_{ij} \left( \pderiv{}{x^k} \right) - v^j u^k \omega_{ij} \left( \pderiv{}{x^k} \right) \right) \otimes \pderiv{}{x^i} 
\\
& \quad + \left( v^k \d{u^j} \left( \pderiv{}{x^k} \right) \otimes \pderiv{}{x^j} - u^k \d{v^j} \left( \pderiv{}{x^k} \right) \otimes \pderiv{}{x^j} \right)
\\
& = T_\nabla(X, Y) + [X, Y] 
\end{align*}
Therefore, we write down the following.
\end{rmk}

\begin{defn}
Let $\nabla : \T_X \to \Omega_X \otimes \T_X$ be a connection on the tangent bundle. The torsion $T_\nabla \in \Gamma(X, \Omega_X^2 \otimes \T_X)$ is defined via,
\[ T_X(X,Y) = \nabla_X Y - \nabla_Y X - [X, Y] \]
\end{defn}

\subsection{Metric Compatibility}

\begin{rmk}
A complex vector bundle $E \to M$ is equivalent to a pair $(E, I)$ where $E \to M$ is a real vector bundle and $I : E \to E$ is a bundle endomorphism such that $I^2 = - \id$. Therefore, an almost complex structure is the same as endowing the tangent bundle with a complex structure.  
\end{rmk}

\begin{rmk}
A holomorphic structue on a complex vector bundle $E \to X$ over a complex manifold is the structue of a complex manifold on $E$ such that $E \to X$ is holomorphic and such that there exist biholomorphic linear charts for $E \to X$ as a bundle. 
\end{rmk}

\begin{defn}
Let $E \to M$ be a real vector bundle. A metric on $E$ is a positive-definite symetric section $g \in \Gamma(M, \mathrm{Sym}^2(E^*))$.
\end{defn}

\begin{defn}
A connection $\nabla : E \to \cA^1_X \otimes E$ is compatible with the metric $g$ if $\nabla g = 0$. 
\end{defn}

\begin{rmk}
Explicitly, 
\[ (\nabla g)(s_1, s_2) = \d{(g(s_1, s_2))} - g(\nabla s_1, s_2) - g(s_1, \nabla s_2) \]
and thus $\nabla g = 0$ iff $\d{(g(s_1, s_2))} = g(\nabla s_1, s_2) + g(s_1, \nabla s_2)$.
\end{rmk}

\begin{defn}
Let $(E, I) \to M$ be a complex vector bundle. A hermitian structure on $E$ is a section $h \in \Gamma(M, E^* \otimes \overline{E}^*)$ such that $h_x$ is a hermitian metric on $E_x$.
\end{defn}

\begin{prop}
A hermitian structure on $(E, I)$ is equivalent to a metric compatible with $I$.
\end{prop}

\begin{proof}
The equivalence is given by $h = g - i \omega$ where $\omega(-,-) = g(I(-),-)$ is the fundamental form. (CHECK THIS)
\end{proof}

\begin{defn}
Let $E \to M$ be complex. We say a connection $\nabla : E \to \cA^1_M \otimes E$ is complex if $\nabla$ is complex linear. If $E$ has a hermitian structure we say that $\nabla$ is hermitian if $\nabla h = 0$.
\end{defn}

\begin{rmk}
Note that $\nabla$ being complex linear is equivalent to $\nabla \circ I = I \circ \nabla$ is equivalent to $\nabla I = 0$ via the induced connection on $E^* \otimes E$. Explicitly,
\[ (\nabla I)(s) = \nabla I(s) - I(\nabla(s)) = 0 \]
\end{rmk}

\begin{rmk}
Note that we need $\nabla$ to be complex for $\nabla h = 0$ to make sense since we need $\nabla$ to induce a connection on $E^* = \Hom{\C}{E}{\underline{\C}}$. To see why, consider a section $\varphi \in \Gamma(X, E^*)$ then, $\nabla \varphi$ should be complex linear. However,
\begin{align*}
(\nabla \varphi)(I(s)) & = \d{\varphi(I(s))} - \varphi(\nabla I(s)) = i \d{\varphi(s)} - i \varphi(\nabla s) + \varphi([I \circ \nabla - \nabla \circ I](s))
\\
& = i (\nabla \varphi)(s) + \varphi([I \circ \nabla - \nabla \circ I](s))
\end{align*}
and therefore we need $\nabla \circ I = I \circ \nabla$.
\end{rmk}

\begin{prop}
Let $(E, I, h)$ be a complex bundle with a hermitian structure and $g$ the associated compatible metric with funamental form $\omega$. A complex connection $\nabla : E \to \cA^1_X \otimes E$ is hermitian iff
\[ \nabla h = 0 \iff \nabla g = 0 \iff \nabla \omega = 0 \]
\end{prop}

\begin{proof}
Because $\nabla I = 0$ we see that $(\nabla \omega)(-,-) = (\nabla g)(I(-),-)$ and thus $\nabla g = 0 \iff \nabla \omega = 0$. Furthermore, $h = g - i \omega$ so if $\nabla h = 0$ then the real and imaginary parts must indiviually vanish so $\nabla g = \nabla \omega = 0$. Explicitly,
\begin{align*}
\d{(h(s_1, s_2))} & = h(\nabla s_1, s_2) + h(s_1, \nabla s_2) 
\\
& \iff
\\
\d{(g(s_1, s_2))} - i \d{(\omega(s_1, s_2))} & = g(\nabla s_1, s_2) + g(s_1, \nabla s_2) - i \omega(\nabla s_1, s_2)  - i \omega(s_1, \nabla s_2)
\end{align*}
and therefore,
\[ \d{(g(s_1, s_2))} = g(\nabla s_1, s_2) + g(s_1, \nabla s_2)  \quad \text{ and } \quad \d{(\omega(s_1, s_2))} = \omega(\nabla s_1, s_2) + \omega(s_1, \nabla s_2) \]
\end{proof}


\subsection{The Levi-Civita and Chern Connections}

\renewcommand{\C}{\mathbb{C}}

\begin{prop}
Let $(E, g, \sigma)$ be a real vector bundle on $M$ with a metric and solder form $\sigma : T_M \to E$. Then there exists a unique torsion-free connection $\nabla$ compatible with the metric called the Levi-Civita connection.
\end{prop}

\begin{proof}
DO THIS!!
\end{proof}

\begin{defn}
Let $E \to X$ be a holomorphic vector bundle. We say a complex connection $\nabla : E \to \cA^1_X \otimes E$ is compatible if $\nabla^{0,1} = \bar{\partial}_E$ where $\nabla^{0,1} = (\Pi^{0,1} \otimes \id_E) \circ \nabla$.
\end{defn}

\begin{prop}
Let $(E, h)$ be a holomorphic vector bundle with a hermitian structure. Then there exists a unique compatible hermitian connection $\nabla$ called the Chern connection.
\end{prop}

\begin{proof}
(DO THIS)
\end{proof}

\begin{rmk}
Now we consider the tangent bundle of a hermitian manifold $(X, g)$ that is a Riemannian manifold $(M, g)$ with a compatible almost complex structure $X = (M, I)$. There may be obstructions to the Levi-Civita connection being complex 
\end{rmk}

\begin{prop}

\end{prop}

\begin{prop}
Let $(X, g)$ be a hermitian manifold. Let $\nabla_{\mathrm{LC}}$ be the Levi-Civita connection on $TM$ of the underlying Riemannian manifold $(M, g)$. Then,
\[ \nabla_{\text{LC}}(I) = \]
\end{prop}

\begin{prop}
Let $(X, g)$ be a hermitian complex manifold. Let $\nabla$ be a torsion-free complex hermitian connection. Then the following hold,
\begin{enumerate}
\item $\nabla$ is the Levi-Civita connection for the underlying Riemannian structure
\item $\nabla$ is the Chern connection of $(T^{1,0} X, g_\C)$ 
\item $(X, g)$ is K\"{a}hler.
\end{enumerate}
\end{prop}


\subsection{Ricci Curvature}

\section{Conventions}

Symmetric and exterior algebras are \textit{quotients} not subspaces. The subspaces of symmetric and alternating tensors are a distinct notion. In characteristic zero $V^{\otimes n} \onto \bigwedge^n V$ is split and the image is the alternating tensors and similarly for symmetric tensors and $V^{\otimes n} \onto \mathrm{Sym}^n(V)$.
\bigskip\\
To identify $\bigwedge^k V^* \cong (\bigwedge^k V)^*$ we need to choose a perfect pairing $\bigwedge^k V \times \bigwedge^k V^* \to k$. We do this in the only natural way that works in all characteristics,
\[ (v_1 \wedge \cdots \wedge v_k, \varphi^1 \wedge \cdots \varphi^k) \mapsto \det{\varphi^i(v^j)} \]
Note that $(\varphi \wedge \psi)(v, u) = (\varphi \wedge \psi)(v \wedge u) = \varphi(v) \psi(u) - \varphi(u) \psi(v)$. There are NO factors of $\frac{1}{2}$ anywhere to be seen! The natural map $\bigwedge^k V^* \iso (\bigwedge^k V)^* \embed (V^{\otimes k})^* \iso (V^*)^{\otimes k} \onto \bigwedge^k V^*$ is thus multipliciation by $k!$. 
\bigskip\\
Some obnoxious assholes define the pairing with a factor of $\frac{1}{k!}$ to agree with alternating tensors but then they also define the wedge product with a strange coefficient to make everything work out. Explicitly,
\[ \mathrm{Alt}(\varphi \otimes \psi)(v, u) = \tfrac{1}{2} \left( \varphi \otimes \psi - \psi \otimes \varphi \right)(v, u) = \tfrac{1}{2} \left( \varphi(v) \psi(u) - \psi(v) \varphi(u) \right) \]
and likewise this means that,
\[ \left< \mathrm{Alt}(\varphi \otimes \psi), \mathrm{Alt}(v \otimes u) \right> = \tfrac{1}{4} \left( \varphi(v) \psi(u) - \psi(v) \varphi(u) - \varphi(u) \psi(v) + \psi(u) \varphi(v) \right) = \tfrac{1}{2} \left( \varphi(v) \psi(u) - \varphi(u) \psi(v) \right) \]
But then they define $v \wedge u = 2 \mathrm{Alt}(v \otimes u) = v \otimes u - u \otimes v$ to ``fix'' everything so that,
\[ (\varphi \wedge \psi)(v, u) = \varphi(v) \psi(u) - \psi(v) \varphi(u) \]
so in fact $v \wedge u$ has the same image in $V^{\otimes 2}$ as previously.

\end{document}