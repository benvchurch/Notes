\documentclass[12pt]{article}
\usepackage{import}
\import{"../Algebraic Geometry/"}{AlgGeoCommands}

\newcommand{\Loc}[1]{\mathfrak{Loc}\left( #1 \right)}
\newcommand{\AbGrp}{\mathbf{AbGrp}}

\begin{document}

\section{Local Cohomology}

\begin{definition}
A local group or local system of groups $\L$ is a locally-constant sheaf of abelian groups. We write $\Loc{X}$ for the category of local systems on $X$.  
\end{definition}

\begin{theorem}
Let $X$ be a locally-path-connected (AND) topological space. Then there is a equivalence of categories between the category of local groups on $X$ and the category of actions of the fundamental groupoid $\Pi(X)$ on abelian groups. 
\end{theorem}

\begin{proof}
There is a functor $\Loc{X} \to \AbGrp^{\Pi(X)}$ sending a local system to its monodromy action. For any path $\gamma : I \to X$ and a point $\gamma(t)$ there is a open connected neighborhood $\gamma(t) \in U_t$ small enough such that $\L |_U{_t} \cong \underline{G}|_{U_t}$ for some abelian group $G$. Then $\gamma^{-1}(U_t)$ cover $I$ which is compact so we may choose finitely many $U_{i}$ which cover the path and we may assume that $U_i \cap U_{i + 1} \neq \empty$. Then since both are connected and $\L$ is constant on each we get isomorphisms,
\begin{center}
\begin{tikzcd}
\L(U_i) \arrow[rd, "\sim"] & & \L(U_{i+1}) \arrow[ld, "\sim"']
\\
& \L(W)
\end{tikzcd}
\end{center}
where $W$ is a connected component of $U_i \cap U_{i + 1}$. Thus $\L(U_i) \xrightarrow{\sim} \L(U_{i+1})$. Inductivly, this gives $\L(U_0) \xrightarrow{\sim} \L(U_n)$ which, since it is well-defined after shrinking the neighborhoods admits restricting to stalks, gives the monodromy map $[\gamma] : \L_{\gamma(0)} \to \L_{\gamma(1)}$. Clearly this construction respects composition. Furthermore, we can do the exact same construction for maps $I^2 \to X$ showing that the identifications everywhere commute under homotopy. Explicitly, let $h : I^2 \to X$ be a path homotopy between $\gamma_1 : I \to X$ and $\gamma_2 : I \to X$ then for each $t$ let $h(t, -) : I \to X$ be the path homotoping the point $\gamma_1(t)$ to $\gamma_2(t)$. Then $[h(t_2, -)] \circ [\gamma_1(t_1 \mapsto t_2)] = [\gamma_2(t_1 \mapsto t_2)] \circ [h(t_1, -)]$ as maps $\L_{\gamma_1(t_1)} \to \L_{\gamma_2(t_2)}$. Since at the endpoints $h(0, - ) = h(1, -)$ is the constant path then we see that $[\gamma_1] = [\gamma_2]$. Therefore, monodromy defined a functor $M_\L : \Pi(X) \to \AbGrp$. 
\bigskip\\
Now I claim this association $\L \mapsto M_\L$ is functorial. Given a morphism $\eta : \L \to \L'$ of local groups we get get maps $\eta_x : \L_x \to \L_x'$ which commute with restriction and thus with the monodromy construction i.e. a natural transformation between functors $M_\L$ and $M_{\L'}$.
\bigskip\\
Now we need to show that $\L \mapsto M_\L$ is fully faithful. 
\bigskip\\
Finally, $M : \Loc{X} \to \AbGrp^{\Pi(X)}$ is essentially surjective. (PROVE THIS)
\end{proof}

\begin{remark}
When $X$ is connected, then groupoid $\Pi(X)$-representations are simply group representations of $\pi_1(X,x_0)$.
\end{remark}

\begin{definition}
Let $X$ be a locally-path-connected. For each $n > 1$ (for $n = 1$ the representation is simply the inner automorphism representation of a groupoid) there is a groupoid representation $\pi_n(X) : \Pi(X) \to \AbGrp$ which generalizes the action at each point $\pi_1(X, x_0) \acts \pi_n(X, x_0)$. By the above theorem, this corresponds to a local group $\underline{\pi_n(X)}$. 
\end{definition}

\section{Maps of a Proper Curve are Finite}

\begin{theorem}
Let $C$ be a proper curve over $k$ and $X$ is separated of finite type over $k$. Then any nonconstant map $f : C \to X$ over $k$ is finite.
\end{theorem}

\begin{proof}
Since $C \to \Spec{k}$ is proper and $X \to \Spec{k}$ is separated then by Tag 01W6 the map $f : C \to X$ is proper. The fibres of closed points $x \in X$ are proper closed subschemes $C_x \embed C$ (since if $C_x = C$ then $f : C \to X$ would be the constant map at $x \in X$) and thus finite since proper closed subsets of a curve are finite. Now I claim that if the fibres $f^{-1}(x)$ are finite at closed points $x \in X$ then all fibres are finite. Assuming this, $f : C \to X$ is proper with finite fibres and thus is finite by Tag 02OG.
\bigskip\\
To show the claim consider,
\[ E = \{ x \in X \mid \dim{C_x} = 0 \} \]   
Since $C$ is Noetherian, $\dim{C_x} = 0$ iff $C_x$ is finite (suffices to check for affine schemes since quasi-comact and dimension zero Noetherian rings are exactly Artinian rings which have finite spectrum). Then $E$ is locally constructible by Tag 05F9 and contains all the closed points of $X$. Since $X$ is finite type over $k$ then $X$ is Jacobinson which implies that $E$ is dense in every closed set. Then for any point $\xi \in X$ then $Z = \overline{\{ \xi \}}$ is closed and irreducible with generic point $\xi$ and thus $E \cap Z$ is dense in $Z$. Then by Tag 005K we have $\xi \in E$ so $E = X$ proving that all fibres are finite.
\end{proof}

\begin{remark}
The only facts about $C$ that I used were that $C \to \Spec{k}$ is proper and that $C$ is irreducible of dimension one. The second two properties are needed for the following to hold.
\end{remark}

\begin{lemma}
If $X$ is an irreducible Noetherian scheme of dimension one then every nontrivial closed subset of $X$ is finite.
\end{lemma}

\begin{proof}
Since $X$ is quasi-compact it suffices to show this property for affine schemes $X = \Spec{A}$ with $\dim{A} = 1$ and prime nilradical. Any nontrivial closed subset is of the form $V(I)$ for some proper radical ideal $I \subset X$ with $I \supsetneq \nilrad{A}$. Then $\height{I} = 1$ since any prime above $I$ must properly contain $\nilrad{A}$ and thus have height at least one but $\dim{A} = 1$. Then,
\[ \height{I} + \dim{A / I} \le \dim{A} \]
so $\dim{A / I} = 0$. Since $A$ is Noetherian so is $A / I$ but $\dim{A / I} = 0$ and thus $A / I$ is Artianian. Therefore $\Spec{A / I}$ is finite proving the proposition. 
\end{proof}

\begin{remark}
Since $C \to \Spec{k}$ is proper it is finite type over $k$ and thus $C$ is Noetherian.
\end{remark}

\section{Action on Fibres of Fibration}

\begin{theorem}
Let $F \embed E \xrightarrow{\sim} B$ be a fibration. Then there is a groupoid action $\Pi(B)$ on the space of fibres and in particular $\pi_1(B, x_0) \to \Aut{F}$. 
\end{theorem}

\begin{proof}
Consider a path $\gamma : I \to B$ from $x_1$ to $x_2$ and then the diagram,
\begin{center}
\begin{tikzcd}[row sep = large, column sep = large]
F_{x_1} \arrow[r, hook] \arrow[d, hook] & E \arrow[d, "p"]
\\
F_{x_1} \times I \arrow[ru, dashed, "\tilde{\gamma}"] \arrow[r, "\gamma"] & B
\end{tikzcd}
\end{center}
By homotopy lifting we get a map $\tilde{\gamma} : F_{x_1} \times I \to E$ lifitng $\gamma : F_{x_1} \times I \to B$. Then $p \circ \tilde{\gamma} = \gamma$ so $\tilde{\gamma}(-, 1) \subset F_{x_2}$ since $p \circ \tilde{\gamma}(-,1) = \gamma(1) = x_2$. Therefore we get a map $[\gamma] : F_{x_1} \to F_{x_2}$ via $[\gamma](x) = \tilde{\gamma}(x, 1)$. 
\bigskip\\
I claim that two lifts of homotopic paths are homotopic. Given two paths $\gamma_1, \gamma_2 : I \to B$ and a path homotopy $h : I^2 \to B$ and two lifts $\tilde{\gamma_1}, \tilde{\gamma_2} : F_{x_1} \times I \to E$ we want a map $F_{x_1} \times I^2 \to E$ above $h : \times I^2 \to B$. This map is defined on $F_{x_1} \times (I \times \{ 0, 1 \} \cup \{ 0 \} \times I)$ via $\tilde{\gamma}_1$ on $F_{x_1} \times I \times \{0\}$ and $\tilde{\gamma}_2$ on $F_{x_1} \times I \times \{0\}$ any by inclusion of the fibre $F_{x_1}$ on $F_{x_1} \times \{ 0 \} \times I$ (constant on $I$) since $h_ {\{0\} \times I}$ is constant since it is a path homotopy. Then by homotopy lifitng, we get $\tilde{h} : F_{x_1} \times I \times I \to E$ such that $p \circ \tilde{h} = h$ and thus $\tilde{h}(-, 1, -) : F_{x_1} \times I \to F_{x_2}$ gives a homotopy from $[\gamma_1] : F_{x_1} \to F_{x_2}$ to $[\gamma_2] : F_{x_1} \to F_{x_2}$. 
\bigskip\\
Therefore, we have a representation of $\Pi(B)$ on $\mathbf{hTop}$ sending $x \mapsto F_x$ and $\gamma \mapsto [\gamma]$. 
\end{proof}


\section{Serre - Vanishing}

\begin{rmk}
First we prove the result for the case $\P^n_R$. 
\end{rmk}

\begin{theorem}
Let $\P^n = \P^n_R$. For any coherent $\struct{\P^n}$-module $\F$ there is some $r > 0$ such that,
\[ H^i(\P^n_R, \F \otimes_{\struct{\P^n}} \struct{\P^n}(s)) = 0 \]
for all $i > 0$ and $s \ge r$.
\end{theorem}

\begin{proof}
Since this holds for $i > n$ we may apply reverse induction on $i$. Assume the theorem holds for $i + 1$ and let $\F$ be some coherent sheaf. Since $\struct{\P^n}(1)$ is ample, for some $\ell > 0$ the sheaf $\F \otimes_{\struct{\P^n}} \struct{\P^n}(\ell)$ is generated by global sections,
\[ \bigoplus_{j = 1}^N \struct{\P^n} \onto \F \otimes_{\struct{\P^n}} \struct{\P^n}(\ell) \]
and thus tensoring by $\struct{\P^n}(-\ell)$ we get a surjection,
\[ \bigoplus_{j = 1}^N \struct{\P^n}(-\ell) \onto \F \]
which we may extend to an exact sequence,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & \G \arrow[r] &  \bigoplus\limits_{j = 1}^N \struct{\P^n}(-\ell)  \arrow[r] & \F \arrow[r] & 0
\end{tikzcd}
\end{center}
Since $\struct{\P^n}(d)$ is locally free it is flat (exactness can be checked on stalks) so we get a short exact sequence,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & \G(d) \arrow[r] &  \bigoplus\limits_{j = 1}^N \struct{\P^n}(d - \ell)  \arrow[r] & \F(d) \arrow[r] & 0
\end{tikzcd}
\end{center}
Applying the LES of homology we get,
\begin{center}
\begin{tikzcd}
\bigoplus\limits_{j = 1}^N H^i(\P^n_R, \struct{\P^n}(d - \ell)) \arrow[r] & H^i(\P^n_R, \F(d)) \arrow[r] & H^{i+1}(\P^n_R, \G(d))
\end{tikzcd}
\end{center}
By the induction hypothesis, for all sufficently large $d \ge r_\G$ the cohomology $H^{i+1}(\P^n_R, \G(d)) = 0$ vanishes and furthermore by explicit calcuation, $H^i(\P^n_R, \struct{\P^n}(d - \ell)) = 0$ for $i > 0$ and $d \ge \ell$ so take $r_\F = \max\{ \ell, r_\G \}$ and then for $d \ge r_\F$ we find,
\[ H^i(\P^n_R, \F \otimes_{\struct{\P^n}} \struct{\P^n}(d)) = 0 \]
proving the result by induction. 
\end{proof}

\begin{theorem}
Let $R$ be a noetherian ring and $X \to \Spec{R}$ proper. Furthermore, let $\L$ be an ample line bundle on $X$. Then for any coherent $\struct{X}$-module $\F$ there is some $r > 0$ such that,
\[ H^i(X, \F \otimes_{\struct{X}} \L^{\otimes s}) = 0 \]
for all $i > 0$ and $s \ge r$.
\end{theorem}

\begin{proof}
Since $X \to \Spec{R}$ is finite type and $X$ has an ample line bundle $\L$ then $X$ must be quasi-projective over $R$ for some immersion $\iota : X \to \P^N_R$ where $\L^{\otimes d} = \iota^* \struct{\P^N}(1)$. Since $X \to \Spec{R}$ is proper and $\P^N_R \to \Spec{R}$ is separated then $\iota : X \to \P^N_R$ is automatically proper hence a closed immersion so $X$ is projective. 
\bigskip\\
Being a closed immersion $\iota : X \to \P^N_R$ is affine so we may compute (the Leray spectral sequence degenerates),
\[ H^i(X, \G) = H^i(\P^N_R, \iota_* \G) \]
for any quasi-coherent sheaf on $X$. Therefore, considering the coherent sheaf $\G = \F \otimes_{\otimes{\struct{X}}} \L^{\otimes s}$ it suffices to compute,
\[ H^i(\P^N_R, \iota_* ( \F \otimes_{\struct{X}} \L^{\otimes s} ) ) \]
We will apply the projection formula noting that writing $s = nd + r$ gives,
\[ \L^{\otimes s} = (\L^{\otimes d})^{\otimes n} \otimes_{\struct{X}} \L^{\otimes r} = (\iota^* \struct{\P^N}(1))^{\otimes n} \otimes_{\struct{X}} \L^{\otimes r} = \iota^* \struct{\P^n}(n) \otimes_{\struct{X}} \L^{r} \]
Therefore, let $\E = \struct{\P^n}(n)$ in the projection formula to find that,
\[ \iota_* ( \F \otimes_{\struct{X}} \L^{s} ) = \iota_* (\F \otimes_{\struct{X}} \L^{r} \otimes_{\struct{X}} \iota^* \struct{\P^N}(n)) = \iota_* (\F \otimes_{\struct{X}} \L^{r}) \otimes_{\struct{\P^n}} \struct{\P^N}(n) \]
Since $\iota_* (\F \otimes_{\struct{X}} \L^{r})$ is coherent the previous proposition alows us to choose $n$ large enough (taking the maximum of the $n$ large enough to kill the cohomology of each of $r = 0, 1, \dots, d-1$) so that,
\[ H^i(\P^N_R, \iota_* (\F \otimes_{\struct{X}} \L^{r}) \otimes_{\struct{\P^n}} \struct{\P^N}(n))  = 0 \]
for any $r = 0, 1, \dots, d-1$ and $n \gg 0$.
Therefore, for all sufficiently large $s$ we have,
\[ H^i(X, \F \otimes_{\struct{X}} \L^{\otimes s}) = H^i(\P^N_R, \iota^* (\F \otimes_{\struct{X}} \L^{\otimes s})) = H^i(\P^N_R, \iota_* (\F \otimes_{\struct{X}} \L^{r}) \otimes_{\struct{\P^n}} \struct{\P^N}(n)) = 0 \]
\end{proof}

\begin{theorem}[projection formula]
Let $f : X \to Y$ be a morphism of ringed spaces $\F$ a $\struct{X}$-module and $\E$ a finite locally free $\struct{Y}$-module. Then,
\[ R^q f_* (\F \otimes_{\struct{X}} f^* \E) = R^q f_* \F \otimes_{\struct{Y}} \E \]
\end{theorem}

\begin{theorem}
Let $X$ be projective, then the functors $\Ext{i}{\struct{X}}{-}{\G} : \Coh{\struct{X}} \to \Mod{\Gamma(X, \struct{X})}$ for a fixed quasi-coherent $\struct{X}$-module $\G$ are universal contravariant $\delta$-functors. 
\end{theorem}

\begin{proof}
It suffices to show that $\Ext{i}{}{-}{\G}$ are coeffaceable for all $i > 0$. Since $X$ is projective there is an ample line bundle $\L$ on $X$ and for the coherent $\struct{X}$-module $\G$ there is some $r > 0$ such that,
\[ H^i(X, \G \otimes_{\struct{X}} \L^{\otimes s}) = 0 \]
for any $s \ge r$ and $i > 0$. Then since $\L$ is ample, for any coherent $\struct{X}$-module $\F$ for some $n_0$ such that for $n \ge n_0$ the coherent sheaf $\F \otimes_{\struct{X}} \L^{\otimes n}$ is generated by global sections. Choosing $n \ge \max \{ n_0, r \}$ we get a surjection,
\[ \bigoplus_{j = 1}^N \struct{X} \onto \F \otimes_{\struct{X}} \L^{\otimes n} \]
However, since $\L$ is a line bundle we may tensor by $\L^{\otimes -n} = (\L^{\otimes n}])^\vee  $ to get a surjection,
\[ \H = \bigoplus_{j = 1}^N \L^{\otimes -n} \onto \F \]
Furthermore, since $\L$ is locally free of rank one,
\[ \Ext{i}{\struct{X}}{\H}{\G} = \bigoplus_{j = 1}^N \Ext{i}{\struct{X}}{(\L^{\otimes n})^\vee}{\G} = \bigoplus_{j = 1}^N \Ext{i}{\struct{X}}{\struct{X}}{\L^{\otimes n} \otimes_{\struct{X}} \G} = \bigoplus_{j = 1}^N H^i(X,  \G \otimes_{\struct{X}} \L^{\otimes n}) = 0 \]
for $i > 0$ by Serre vanishing showing that $\Ext{i}{\struct{X}}{-}{\G}$ is coeffaceable for all $i > 0$.  
\end{proof}

\section{Computing Ext and Tor in the Second Argument}

\subsection{Ext}

\begin{definition}
Let $\C$ be an abelian category (possibly enriched over another category $\D$). Then if $\C$ has enough injectives, $\Ext{i}{\C}{A}{-} : \C \to \D$ are the right-derived functors of $\Hom{\C}{A}{-} : \C \to \D$. 
\end{definition}

\begin{lemma}
$\Ext{i}{\C}{-}{M} : \C \to \D$ is a contravariant functor. 
\end{lemma}

\begin{proof}
Given an injective resolution $M \to \I^\bullet$ and a map $A \to B$ we get a morphism of complexes $\Hom{\C}{B}{\I^\bullet} \to \Hom{\C}{A}{\I^\bullet}$ and thus a morphims of cohomology,
\[ \Ext{i}{\C}{B}{M} \to \Ext{i}{\C}{A}{M} \]
which clearly respects composition.
\end{proof}

\begin{lemma}
If $P$ is projective then $\Ext{i}{\C}{P}{-} = 0$ for $i > 0$.
\end{lemma}

\begin{proof}
This follow immediatly from the defining property that $\Hom{\C}{P}{-}$ is exact.
\end{proof}

\begin{prop}
Given a short exact sequence,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & A \arrow[r] & B \arrow[r] & C \arrow[r] & 0
\end{tikzcd}
\end{center}
in $\C$ and some $M \in \C$ then there is a long exact sequence, 
\begin{center}
\begin{tikzcd}
0 \arrow[r] & \Hom{\C}{C}{M} \arrow[draw=none]{d}[name=Z, shape=coordinate]{}  \arrow[r] & \Hom{\C}{B}{M} \arrow[r] & \Hom{\C}{A}{M} 
\arrow[dll,
rounded corners, crossing over,
to path={ -- ([xshift=2ex]\tikztostart.east)
|- (Z) [near end]\tikztonodes
-| ([xshift=-2ex]\tikztotarget.west)
-- (\tikztotarget)}]
\\
& \Ext{1}{\C}{C}{M} \arrow[draw=none]{d}[name=ZZ, shape=coordinate]{}  \arrow[r] & \Ext{1}{\C}{B}{M} \arrow[r] & \Ext{1}{\C}{A}{M} \arrow[dll,
rounded corners, crossing over,
to path={ -- ([xshift=2ex]\tikztostart.east)
|- (ZZ) [near end]\tikztonodes
-| ([xshift=-2ex]\tikztotarget.west)
-- (\tikztotarget)}]
\\
& \Ext{2}{\C}{C}{M} \arrow[r] & \Ext{2}{\C}{B}{M} \arrow[r] & \Ext{2}{\C}{A}{M} \arrow[r] & \cdots
\end{tikzcd}
\end{center}
\end{prop}

\begin{proof}
Take an injective resolution $M \to \I^\bullet$. Then since each $\I^n$ is injective the functor $\Hom{\C}{-}{\I^n}$ is exact so we get an exact sequence of complexes,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & \Hom{\C}{C}{\I^\bullet} \arrow[r] & \Hom{\C}{B}{\I^\bullet} \arrow[r] & \Hom{\C}{A}{\I^\bullet} \arrow[r] & 0
\end{tikzcd}
\end{center}
Taking the cohomology sequence of this short exact sequence of complexes gives the desired long exact sequence. 
\end{proof}

\begin{lemma}
If $P_\bullet \to A$ is a projective resolution then $\Ext{i}{\C}{A}{-} = H^i(\Hom{\C}{P_\bullet}{-})$. 
\end{lemma}

\begin{proof}
We may use the acyclicity lemma which may be proven by the above exact sequence for $\Hom{\C}{-}{M}$ noting that $\Ext{i}{\C}{P_n}{M} = 0$. However, a more elegant argument goes as follows. Since $P_\bullet$ is a complex of projectives the functor $\Hom{\C}{P_n}{-}$ is exact so for any exact sequence,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & M \arrow[r] & N \arrow[r] & K \arrow[r] & 0
\end{tikzcd}
\end{center}
we get an exact sequence of complexes,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & \Hom{\C}{P_\bullet}{M} \arrow[r] & \Hom{\C}{P_\bullet}{N} \arrow[r] & \Hom{\C}{P_\bullet}{K} \arrow[r] & 0
\end{tikzcd}
\end{center}
which gives a long exact sequence in the cohomology functors $H^i(\Hom{\C}{P_\bullet}{-})$ which shows that $H^i(\Hom{\C}{P_\bullet}{-})$ form a $\delta$-functor. Furthermore, since $\C$ has enough injectives, for any $M \in \C$ we can embed $M \embed I$ into an injective $I$ and $H^i(\Hom{\C}{P_\bullet}{I}) = 0$ since $\Hom{\C}{-}{I}$ is exact. Therefore,  $H^i(\Hom{\C}{P_\bullet}{-})$ is an effaceable $\delta$-functor and thus universal by Grothendieck. Furthermore, since $\Hom{\C}{-}{M}$ is left-exact,
\begin{align*}
H^0(\Hom{\C}{P_\bullet}{-}) & = \ker{(\Hom{\C}{P^0}{-} \to \Hom{\C}{P^1}{-})} = \Hom{\C}{\coker{(P^1 \to P^0)}}{-} 
\\
& = \Hom{\C}{A}{-} 
\end{align*}
However, $\Ext{i}{\C}{A}{-}$ are the derived functors of $\Hom{\C}{A}{-}$ so they too form a universal $\delta$-functor over $\Hom{\C}{A}{-}$. Thus, since universal $\delta$-functors with naturally isomorphic first terms are unique,
\[ \Ext{i}{\C}{A}{-} = H^i(\Hom{\C}{P_\bullet}{-}) \]
\end{proof}

\begin{rmk}
The above formalism applies exactly to any bifunctor $F : \C^\op \times \C \to \D$ such that for any $A \in \C$ there are enough $F(A, -)$-acyclics $I$ for which $F(-,I)$ is exact and replacing `injective' with this class of acyclics and `projective' by any class of onjects $P$ such that $F(P, -)$ is exact. Furthermore we assume $\C$ is abelian with enough injectives, $\D$ is additive, and $F : \C^\op \times \C \to \D$ is additive. 
\bigskip\\
For example, in the category of $\struct{X}$-modules on a scheme, the bifunctor,
\[ \shHom{\struct{X}}{-}{-} : \shMod{\struct{X}}^\op \times \shMod{\struct{X}} \to \shMod{\struct{X}} \] satisfies the following properties. First, for injective sheaves $\I$ we have $\shHom{\struct{X}}{-}{\I}$ is exact (and there are enough injectives which are obviously acyclic for $\shHom{\struct{X}}{\F}{-}$. Second, if $\E$ is a locally-free sheaf then,
\[ \shHom{\struct{X}}{\E}{-} = \E^\vee \otimes_{\struct{X}} (-) \]
and $\E^\vee$ is locally free and thus flat so $\shHom{\struct{X}}{\E}{-}$ is exact. Therefore, we see that $\shExt{i}{\struct{X}}{-}{\G}$ is a contravariant $\delta$-functor, vanishing on locally free sheaves, which may be computed via cohomology of locally-free complexes. Furthermore, whenever $\shMod{\struct{X}}$ has enough locally frees (for example whenever $X$ has an ample line bundle) then $\shExt{i}{\struct{X}}{-}{\G}$ forms a universal contravariant $\delta$-functor.
\end{rmk}

\subsection{Tor}

\begin{defn}
When $\C$ has a right-exact cmonoid structure $- \otimes_\C -$ and $\C$ has enough projectives then define $\Tor{\C}{i}{A}{-} : \C \to \C$ as the left-derived functors of $A \otimes_\C - : \C \to \C$. 
\end{defn}

\begin{rmk}
Here it will be necessary to assume that $\C$ has enough flat objects ($- \otimes_\C F$ is exact) which happens say when projectives are flat. 
\end{rmk}

\begin{lemma}
$\Tor{\C}{i}{-}{M}$ is a covariant functor.
\end{lemma}

\begin{proof}
Given a map $A \to B$ and a projective resolution $P_\bullet \to M$ we get a morphism of complexes, $A \otimes_\C P_\bullet \to B \otimes_\C P_\bullet$ and thus a morphism of homology,
\[ \Tor{\C}{i}{A}{M} \to \Tor{\C}{i}{B}{M} \]
\end{proof}

\begin{defn}
We say an object $P \in \C$ is \textit{flat} if $P \otimes_\C - $ is an exact functor.
\end{defn}

\begin{lemma}
The following are equivalent,
\begin{enumerate}
\item $P$ is flat
\item $\Tor{\C}{i}{P}{-} = 0$ for all $i > 0$
\item $\Tor{\C}{1}{P}{-} = 0$.
\end{enumerate}
\end{lemma}

\begin{proof}
Clearly $(a) \implies (b) \implies (c)$. Now, if $\Tor{\C}{1}{P}{-} = 0$ then for any exact sequence,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & A \arrow[r] & B \arrow[r] & C \arrow[r] & 0
\end{tikzcd}
\end{center}
we get an exact sequence,
\begin{center}
\begin{tikzcd}
\Tor{\C}{1}{P}{C} \arrow[r] & P \otimes_\C A \arrow[r] & P \otimes_\C B \arrow[r] & C \otimes_\C P \arrow[r] & 0
\end{tikzcd}
\end{center}
so if $\Tor{\C}{1}{P}{-} = 0$ then $P \otimes_\C -$ is exact i.e. $P$ is flat.
\end{proof}


\begin{prop}
Given a short exact sequence,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & A \arrow[r] & B \arrow[r] & C \arrow[r] & 0
\end{tikzcd}
\end{center}
in $\C$ and some $M \in \C$ then there is a long exact sequence, 
\begin{center}
\begin{tikzcd}
\cdots \arrow[r] & \Tor{\C}{2}{A}{M} \arrow[draw=none]{d}[name=Z, shape=coordinate]{}  \arrow[r] & \Tor{\C}{2}{B}{M} \arrow[r] & \Tor{\C}{2}{C}{M} 
\arrow[dll,
rounded corners, crossing over,
to path={ -- ([xshift=2ex]\tikztostart.east)
|- (Z) [near end]\tikztonodes
-| ([xshift=-2ex]\tikztotarget.west)
-- (\tikztotarget)}]
\\
& \Tor{\C}{1}{A}{M} \arrow[draw=none]{d}[name=ZZ, shape=coordinate]{}  \arrow[r] & \Tor{\C}{1}{B}{M} \arrow[r] & \Tor{\C}{1}{C}{M} \arrow[dll,
rounded corners, crossing over,
to path={ -- ([xshift=2ex]\tikztostart.east)
|- (ZZ) [near end]\tikztonodes
-| ([xshift=-2ex]\tikztotarget.west)
-- (\tikztotarget)}]
\\
 & A \otimes_\C M \arrow[r] & B \otimes_\C M \arrow[r] & C \otimes_\C M \arrow[r] & 0
\end{tikzcd}
\end{center}
\end{prop}

\begin{proof}
Take a flat resolution $F_\bullet \to M$. Then since each $F^n$ is flat the functor $F^n \otimes_\C -$ is exact so we get an exact sequence of complexes,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & A \otimes_\C F_\bullet \arrow[r] & B \otimes_\C F_\bullet \arrow[r] & C \otimes_\C F_\bullet \arrow[r] & 0
\end{tikzcd}
\end{center}
Taking the homology sequence of this short exact sequence of complexes gives the desired long exact sequence since by the acylicity lemma we may commute $\Tor{\C}{i}{A}{M}$ via a flat resolution of $M$.  
\end{proof}

\begin{lemma}
If $F_\bullet \to A$ is a free resolution then $\Tor{\C}{i}{A}{-} = H_i(F_\bullet \otimes_\C -)$.
\end{lemma}

\begin{proof}
We may use the acyclicity lemma which may be proven by the above exact sequence for $\Tor{\C}{i}{-}{M}$ showing that $\Tor{\C}{i}{-}{M}$ forms a $\delta$-functor and noting that $\Tor{\C}{i}{F_n}{M} = 0$. However, a more elegant argument goes as follows. Since $F_\bullet$ is a complex of frees the functor $F_n \otimes -$ is exact so for any exact sequence,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & M \arrow[r] & N \arrow[r] & K \arrow[r] & 0
\end{tikzcd}
\end{center}
we get an exact sequence of complexes,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & F_\bullet \otimes M \arrow[r] & F_\bullet \otimes N \arrow[r] & F_\bullet \otimes K \arrow[r] & 0
\end{tikzcd}
\end{center}
which gives a long exact sequence in the homology functors $H_i(F_\bullet \otimes -)$ which shows that $H_i(F_\bullet \otimes -)$ form a (homological) $\delta$-functor. Furthermore, since $\C$ has enough frees, for any $M \in \C$ we have a surjection $F \onto M$ for some free $F$ and $H_i(F_\bullet \otimes_\C F) = 0$ since $- \otimes \F$ is exact (both rows and columns stay exact, it is the exactness of the columns here ensured by freeness of $F$ which is needed for the vanishing). Therefore,  $H_i(F_\bullet \otimes -)$ is a coeffaceable $\delta$-functor and thus universal by Grothendieck. Furthermore, since $- \otimes_\C M$ is right-exact,
\begin{align*}
H_0(F_\bullet \otimes_\C -) & = \coker{([F_1 \otimes_\C -] \to [F_0 \otimes_\C -])} = \coker{(F_1 \to F_0)} \otimes_\C (-) = A \otimes_\C (-)
\end{align*}
However, $\Tor{\C}{i}{A}{-}$ are the derived functors of $A \otimes_\C -$ so they too form a universal $\delta$-functor over $A \otimes_\C -$. Thus, since universal $\delta$-functors with naturally isomorphic first terms are unique,
\[ \Tor{\C}{i}{A}{-} = H_i(F_\bullet \otimes_\C -) \]
\end{proof}

\begin{prop}
Tor is symmetric: there is a natural isomorphism $\Tor{\C}{i}{A}{B} = \Tor{\C}{i}{B}{A}$.
\end{prop}

\begin{proof}
Choose a flat resolution $F_\bullet \to A$. By the above lemma $\Tor{\C}{i}{A}{B} = H_i(F_\bullet \otimes_\C B)$. However, by the symmetry of $- \otimes_\C -$ we have, $H_i(F_\bullet \otimes_\C B) = H_i(B \otimes_\C F_\bullet)$. Furthermore, because $\Tor{\C}{i}{B}{-}$ is the left-derived functor of $B \otimes_\C -$ we may compute it via acyclics (since it is a $\delta$-functor) so $\Tor{\C}{i}{B}{A} = H_i(B \otimes_\C F_\bullet)$ and thus,
\[ \Tor{\C}{i}{A}{B} = H_i(F_\bullet \otimes_\C B) = H_i(B \otimes_\C F_\bullet) = \Tor{\C}{i}{B}{A} \]
\end{proof}

\begin{remark}
These arguments apply to the satellites of any symmetric bifunctor $F : \C \times \C \to \D$ between abelian categories such that $\C$ has enough objects $A$ for which $F(A, -)$ is exact, in particular, if $F(P, -)$ is exact for projectives (as is the tensor product). 
\end{remark}

\newcommand{\Tot}{\mathrm{Tot}}

\begin{remark}
Symmetry follows directly from the following spectral sequence argument. Let $F^A_\bullet \to A$ and $F^B_\bullet \to B$ be free resolutions. Then consider the double complex $C_{p,q} = F^A_p \otimes_\C F^B_q$. There are two spectral sequences which compute the homology of the total complex $\Tot(C_{\bullet. \bullet})$. These two spectral sequences agree on their zeroth page, ${}^A E^0_{p,q} = {}^B E^0_{p,q} = F^A_p \otimes_\C F^B_q$. Now, the first pages are,
\begin{align*}
{}^A E^1_{p,q} & = H_{p}(C_{\bullet, q}) = H_{p}(F^A_\bullet \otimes_\C F^B_q) = A \otimes_\C F_p^B \quad \text{ in p degree zero}
\\
{}^B E^1_{p,q} & = H_{q}(C_{p, \bullet}) = H_{q}(F^A_p \otimes_\C F^B_\bullet) = F^A_p \otimes_\C B \quad \text{ in q degree zero}
\end{align*}
where we have used the fact that $- \otimes_\C F^B_q$ and $F^A_p \otimes_\C - $ are exact (since the resolutions are free) and thus commute with taking homology. Then the second pages are,
\begin{align*}
{}^A E^2_{p,q} & = H_{q}({}^A E^1_{p, \bullet}) = H_{q}(A \otimes_\C F_\bullet^B) = L^q(A \otimes_\C -)(B) \quad \text{ in p degree zero}
\\
{}^B E^2_{p,q} & = H_{p}({}^B E^1_{\bullet, q}) = H_{p}(F^A_p \otimes_\C B) = L^p (- \otimes_\C B)(A) \quad \text{ in q degree zero}
\end{align*}
Since the second pages are supported in a single row or collumn both spectral sequences are converged. Therefore, we find,
\[ H_n(\Tot(C_{\bullet, \bullet})) = {}^A E^2_{0,n} = {}^B E^2_{n, 0} = L^n(A \otimes_\C -)(B) = L^n(- \otimes_\C B)(A) \] 
Therefore, for a bifunctor we may derive in either component to get the same satellite functors. Furthermore, when $- \otimes_\C -$ is symmetric then, 
\begin{align*}
L^n(A \otimes_\C -)(B) & = L^n(- \otimes_\C A)(B) = L^n(B \otimes_\C -)(A) 
\\
L^n(- \otimes_\C B)(A) & = L^n(B \otimes_\C -)(A) = L^n(- \otimes_\C A)(B) 
\end{align*}
so the derived functors are symmetric.
\end{remark}

\subsection{Acyclicity}

\begin{lemma}
Let $F$ be a $\delta$-functor. Suppose there is an exact sequence,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & A \arrow[r] & I^0 \arrow[r] & \cdots \arrow[r] & I^n \arrow[r] & K \arrow[r] & 0
\end{tikzcd}
\end{center}
where $I^i$ are $F$-acyclic. Then for $i > 0$,
\[ F^{n + 1 + i}(A) = F^i(A) \]
and $F^{n+1}(A) = \ker{(F^0(I^{n}) \to F^0(K))}$. 
\end{lemma}

\begin{proof}
We prove this by induction on $n$. For $n = 0$, we are given a short exact sequence,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & A \arrow[r] & I^0 \arrow[r] & K \arrow[r] & 0
\end{tikzcd}
\end{center}
Taking the long exact sequence,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & F^0(A) \arrow[r] & F^0(I^0) \arrow[r] & F^0(K) \arrow[r] & F^1(A) \arrow[r] & F^1(I^0)
\end{tikzcd}
\end{center}
and
\begin{center}
\begin{tikzcd}
F^i(I^0) \arrow[r] & F^i(K) \arrow[r] & F^{i+1}(A) \arrow[r] & F^{i+1}(I^0)
\end{tikzcd}
\end{center}
However, $I^0$ is $F$-acyclic so $F^i(I^0) = 0$ for $i > 0$ and thus $F^{i + 1}(A) = F^i(K)$ for $i > 0$. Furthermore, for the second sequence $F^1(A) = \ker{(F^0(I^0) \to F^0(K))}$. 
\bigskip\\
Now we assume the result holds for $n-1$. We split the exact sequence into,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & A \arrow[r] & I^0 \arrow[r] & \cdots \arrow[r] & I^n \arrow[r] & \tilde{K} \arrow[r] & 0
\end{tikzcd}
\end{center}
and 
\begin{center}
\begin{tikzcd}
0 \arrow[r] & \tilde{K} \arrow[r] & I^n \arrow[r] & K \arrow[r] & 0
\end{tikzcd}
\end{center}
Applying the induction hypothesis we see that,
$F^{n + i}(A) = F^{i}(\tilde{K})$
for $i > 0$. In particular, we will use, $F^{n+1}(A) = F^{1}(\tilde{K})$. Now, by the LES of the second exact sequence we find,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & F^0(\tilde{K}) \arrow[r] & F^0(I^n) \arrow[r] & F^0(K) \arrow[r] & F^1(\tilde{K}) \arrow[r] & F^1(I^n)
\end{tikzcd}
\end{center}
and
\begin{center}
\begin{tikzcd}
F^i(I^n) \arrow[r] & F^i(K) \arrow[r] & F^{i+1}(\tilde{K}) \arrow[r] & F^{i+1}(I^n)
\end{tikzcd}
\end{center}
However, $I^n$ is $F$-acyclic so for $i > 0$ we get,
\[ F^i(K) = F^{i+1}(\tilde{K}) \quad \text{ and } \quad F^1(\tilde{K}) = \coker{(F^0(I^n) \to F^0(K))} \] 
Therefore, we have $F^{n + i + 1}(A) = F^{i+1}(\tilde{K}) = F^i(K)$ for $i > 0$. Furthermore, \[ F^{n+1}(A) = F^1(\tilde{K}) = \coker{(F^0(I^n) \to F^0(K))} \]
proving the lemma.
\end{proof}

\begin{theorem}[acyclicity]
If $F$ is a $\delta$-functor and $A \to I^\bullet$ a resolution of $F$-acyclic objects,
\[ F^n(A) = H^n(F^0(I^\bullet)) \]
\end{theorem}

\begin{proof}
We may truncate the resolution by adding a cokernel $K$ to give an exact sequence,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & A \arrow[r] & I^0 \arrow[r] & \cdots \arrow[r] & I^n \arrow[r] & K \arrow[r] & 0
\end{tikzcd}
\end{center}
By the previous lemma, we can compute,
\[ F^{n+1}(A) = \coker{(F^0(I^n) \to F^0(K))} \]
However, by exactness, $K = \coker{(I^{n-1} \to I^n)} = \ker{(I^{n+1} \to I^{n+2})}$. Furthermore, $F^0$ is left-exact so $F^0(K) = \ker{(F(I^{n+1}) \to F(I^{n+2}))}$. Therefore, for $n \ge 0$ we find,
\[ F^{n+1}(A) = \coker{(F^0(I^n) \to F^0(K))} = \coker{(F^0(I^n) \to \ker{(F(I^{n+1}) \to F(I^{n+2}))})} = H^{n+1}(F^0(I^\bullet)) \]
Furthermore, $F^0$ is left-exact so,
\[ F^0(A) = F^0(\ker{(I^0 \to I^1)}) = \ker{(F^0(I^0) \to F^0(I^1))} = H^0(F^0(I^\bullet)) \]
\end{proof}

\subsection{Tor for Sheaves}

\begin{remark}
Often the categories $\shMod{\struct{X}}$, $\QCoh{\struct{X}}$, and $\Coh{\struct{X}}$ do not have enough projectives. Therefore, we cannot define Tor for sheaves as a left-derived functor we need an alternative definition.  
\end{remark}

\begin{defn}
Let $X$ be a scheme such that $\Coh{\struct{X}}$ has enough locally-frees (e.g. $X$ has an ample line bundle). Given a coherent sheaf $\F$ and a resolution $\E_\bullet \to \F$ by locally free coherent sheaves, we define,
\[ \shTor{\struct{X}}{i}{\F}{-} = H_i( \E_\bullet \otimes_{\struct{X}} - ) \]
\end{defn}

\begin{prop}
$\shTor{\struct{X}}{i}{\F}{-}$ is a universal homological $\delta$-functor. 
\end{prop}

\begin{proof}
First, given an exact sequence of coherent sheaves,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & \G_1 \arrow[r] & \G_2 \arrow[r] & \G_3 \arrow[r] & 0
\end{tikzcd}
\end{center}
we get an exact sequence of complexes,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & \E_\bullet \otimes_{\struct{X}} \G_1 \arrow[r] & \E_\bullet \otimes_{\struct{X}} \G_2 \arrow[r] & \E_\bullet \otimes_{\struct{X}} \G_3 \arrow[r] & 0
\end{tikzcd}
\end{center}
since $\E^n$ is locally-free and thus flat. Taking homology gives a long exact sequence of $\Tor{\struct{X}}{i}{\F}{-}$ sheaves making it a homological $\delta$-functor.
It suffices to show that $\shTor{\struct{X}}{i}{\F}{-}$ is coeffaceable. Since there are enough locally-free sheaves for any coherent $\G$ we can find a locally-free and a surjection $\E' \onto \G$. Then, since $- \otimes_{\struct{X}} \E'$ is exact then,
\[ \shTor{\struct{X}}{i}{\F}{\E} = H_i(\E_\bullet \otimes_{\struct{X}} \E) = 0 \]
where $\E_\bullet \to \F$ is a locally-free resolution. Therefore, $\shTor{\struct{X}}{i}{\F}{-}$ is coeffaceable.
\end{proof}

\begin{rmk}
Since $\shTor{\struct{X}}{i}{\F}{-}$ is universal it will agree with any other reasonable definition (any definition which is a universal $\delta$-functor) because there is a unique universal $\delta$-functor over,
\[ \shTor{\struct{X}}{0}{\F}{-} = H_0(\E_\bullet \otimes_{\struct{X}} -) = \coker{(\E^1 \to \E^0)} \otimes_{\struct{X}} - = \F \otimes_{\struct{X}} - \]
where the second equality follows from right-exactness of $- \otimes_{\struct{X}} \G$. 
\end{rmk}

\begin{rmk}
Since $- \otimes_{\struct{X}} - : \shMod{\struct{X}} \times \shMod{\struct{X}} \to \shMod{\struct{X}}$ is a symmetric bifunctor with enough locally-frees which are flat. Then since $\shTor{\struct{X}}{i}{\F}{-}$ are the left-satellite functors of $\F \otimes_{\struct{X}} -$ we can apply the acyclicity lemma to show that we map compute sheaf Tor from a locally free resolution $\E_\bullet \onto \G$,
\[ \shTor{\struct{X}}{i}{\F}{\G} = H_i(\F \otimes_{\struct{X}} \E_\bullet) \]
which shows the symmetry of $\shTor{\struct{X}}{i}{-}{-}$. 
\end{rmk}

\section{Depth of Field}

First we calculate the size of the circle of confusion. Let the lense have aperature $D$ and focal length $f$. The image distance is given by,
\[ \frac{1}{i} + \frac{1}{o} = \frac{1}{f} \]
then,
\[ i = \frac{f o}{o - f} \]
Therefore, we can compute the change in image distance as $o$ changes,
\[ \deriv{i}{o} = \frac{f}{o - f} - \frac{f o}{(o - f)^2} = - \frac{f^2}{(o - f)^2} \]
For a depth of $\Delta o$ we have a spread of image depths,
\[ \Delta i  \approx \frac{f^2 \Delta o}{(o - f)^2} \]
Then the width of the circle of confusion is given by,
\[ \frac{C}{D} = \frac{\Delta i}{f + \Delta i} \approx \frac{\Delta i}{f} \]
Therefore,
\[ C = \frac{f D}{(o - f)^2} \Delta o \]
For a fixed allowable circle of confusion $C_{\text{max}}$ for the desired resolution, we find the depth of field,
\[ \text{DOF} = 2 \frac{C}{D} \cdot \frac{(o - f)^2}{f} = \frac{2 (o - f)^2 N C}{f^2} \]
where $N = f / D$ is the focal ratio. 

\subsection{Hyperfocal Distance}

At some focal distance $H$, all objects beyond $H$ are in focus. This occurs when,
\[ \frac{i - f}{f} = \frac{C}{D} \]
and
\[ i = \frac{f H}{H - f} \]
Then,
\[ \frac{H}{H - f} - 1 = \frac{f}{H - f} = \frac{C}{D} \]
Therefore,
\[ H = \frac{f (D + C)}{C} = \frac{f^2}{CN} + f \]
\bigskip\\
Alternativly,
if we focus at infinity and ask beyond which everything is in focus then,
\[ \frac{i - f}{i} = \frac{C}{D} \]
and

\[ i = \frac{f H}{H - f} \]
Then,
\[ 1 - \frac{H - f}{H} = \frac{f}{H} = \frac{C}{D} \]
Therefore,
\[ H = \frac{f D}{C} = \frac{f^2}{NC} \]

\section{Morphisms from Proper to Affine Schemes}

Let $X \to \Spec{R}$ be proper and $\Spec{A} \to \Spec{R}$ be affine. Now,
\[ \Hom{R}{X}{\Spec{A}} = \Hom{R}{A}{\Gamma(X, \struct{X})} \]
The map $X \to \Spec{A}$ is given as follows, consider $\varphi_x : A \to \Gamma(X, \struct{X}) \to \stalk{X}{x}$ then $x \mapsto \varphi_x^{-1}(\m_x)$. Therefore, all maps $X \to \Spec{A}$ are constant if $x \mapsto \res_x^{-1}(\m_x)$ is a fixed ideal independent of $x$.  

\section{Irreducible Polynomials over $\Z$}

\newcommand{\Fin}{\mathbb{F}}

Consider the map $\Spec{\Z[X]} \to \Spec{\Z}$. The fibres are, over the generic point $(0)$, we have $\Spec{\Q[X]} \to \Spec{\Q}$ which corresponds to ideals of the form $(f(X))$ for $f$ an irreducible polynomial $f \in \Q[X]$. The fibres over $(p)$ are $\Spec{\Fin_p[X]} \to \Spec{\Fin_p}$ whose primes are of the form $(f(X))$ for $f$ an irreducible polynomial $f \in \Fin_p[X]$. Therefore we get an explicit description of $\Spec{\Fin[X]}$, we have the primes, $(f(X))$ for irreducible $f \in \Q[X]$ (for which we may clear denominators to get $f \in \Z[X]$) and $(p, f(X))$ for irreduclbe $f \in \Fin_p[X]$ (choosing some representative in $\Z[X]$) and finally of course $(0)$ and $(p)$ are prime (corresponding to the generic points of the fibres). 
\bigskip\\
Suppose $f \in \Z[X]$ were irreducible then any prime (strictly) above $(f)$ must be of the form $(p, f(X))$ otherwise $f$ would be a nontrivial product. Then we have $\dim{\Z[X]/(f)} = 1$ furthermore, (COMPLETE THIS ARGUMENT ... )

\section{Normalization}

\begin{example}
Consider $X = \Spec{A}$ with $A = k[x,y]/(y^2 - x^2(x + 1)$. Then consider,
\[ A \to k[t] \quad \quad x \mapsto t^2 - 1 \quad y \mapsto t(t^2 - 1) \]
Then $y^2 = t^2 (t^2 - 1)$ and $x^2 (x - 1) = t^2 (t^2 - 1)^2$ so this map is well-defined. This gives a dominant map,
\[ \A^1_k \to \Spec{A} \]
Furthermore, I claim that,
\[ \Frac{A} \embed k(t) \]
is an isomorphism, clearly $\Frac{A} \to k(t)$ is injective. The inverse map is $t \mapsto y/x$ then $y/x \mapsto t \mapsto y/x$ and $t \mapsto y/x \mapsto t$. Furthermore, $x \mapsto (t^2 - 1) \mapsto (y^2/x^2 - 1) = x$ and $y \mapsto t(t^2 -1) \mapsto y/x(y^2/x^2 - 1) = y$. Thus the map $\A^1 \to \Spec{A}$ is a dominant birational morphism. Furthermore,
\[ \overline{A} = k[y/x]  = k[t] \subset \Frac{A} \]
because $t = y/x$ satisfies the monic $t^2 - x - 1$ so $\A^1 \to \Spec{A}$ is the normalization.
\end{example}

\begin{example}
Consider the cusp $X = \Spec{A}$ with $A = k[x,y] = (y^2 - x^3)$. Then consider,
\[ A \to k[t] \quad \quad x \mapsto t^2 \quad y \mapsto t^3 \]
Then $y^2 \mapsto t^6$ and $x^2 \mapsto t^6$ so this is well-defined. This gives a dominant map,
\[ \A^1_k \to \Spec{A} \]
Furthermore, I claim that,
\[ \Frac{A} \embed k(t) \]
is an isomorphism. Send $t \mapsto y/x$ then $t \mapsto y/x \mapsto t$ and $y/x \mapsto t \mapsto y/x$. Then $y \mapsto t^3 \mapsto y^3 / x^3 = y$ and $x \mapsto t^2 \mapsto y^2 / x^2 = x$. Therefore, $\A^1_k \to \Spec{A}$ is a dominant birational morphism. Furthermore,
\[ \overline{A} = k[y/x] = k[t] \subset k(t) = \Frac{A} \]
because $t = y/x$ satisfies the monic $t^2 - x$. 
\end{example}

\begin{example}
Consider the tachnode $X = \Spec{A}$ with $A = k[x,y]/(x^2 - y^4)$. Then consider,
\[ A \to k[t, s]/(s^2 - 1) \quad \quad x \mapsto t \quad y \mapsto t^2 s \]
Then $x^4 \mapsto t^4$ and $y^2 \mapsto t^4$ so this is well-defined. this gives a dominant map,
\[ \Spec{k[t,s]/(s^2 - 1)} = \A^1_k \coprod \A^1_k \to \Spec{A} \]
On the irreduclble componenets $\p_{+} = (y - x^2)$ and $\p_{-} = (y + x^2)$ of $\Spec{A}$ we have,
\[ \stalk{X}{\p_{+}} = \Frac{k[x,y]/(y - x^2)} \quad \quad \stalk{X}{\p_{-}} = \Frac{k[x,y]/(y + x^2)} \]
and thus the map $\Spec{k[t, s]/(s^2 - 1)} \to \Spec{A}$ gives an isomorphism on each component and $\spec{k[t, x]/(s^2 - 1)}$ is normal. 
\end{example}

\section{A Very Werid Scheme}

For finite products we have,
\[ \Spec{A \times B} = \Spec{A} \coprod \Spec{B} \]
where we take the coproduct in the category of schemes. In particular, the primes of $A \times B$ are simply $\p_1 \times B$ or $A \times \p_2$ for primes $\p_1 \subset A$ and $\p_2 \subset B$. However, for infinite product this fails. Consider,
\[ X = \Spec{\prod\limits_{i = 0}^\infty k} \quad \quad R = \prod\limits_{i = 0}^\infty k \]
where $k$ field. The prime ideals of this ring are not just the kernels of the projections $R \to k$ which are maximal ideals. To see this, consider the ideal $I$ of functions $\N \to k$ which have finite support. Clearly $I \to R \to k$ is surjective for each projection so $I$ is not contained in any of the described primes. It turns out that prime ideals of $R$ correspond to ultrafilters $\F$ of $\N$ where $\p(\F)$ for some ultrafilter is the following,
\[ \p(\F) = \{ (a_i) \mid \{ i \mid a_i = 0 \} \in \F \} \]
Therefore, the principal ultrafilter $\F_i$ above $\{ i \}$ gives exactly $\p(\F_i) = \ker{\pi_i}$ but there are many more nonprincipal ultrafilters. 

\section{Coproducts in the Category of Schemes}

\begin{prop}
The forgetful functor $F : \Sch \to \Top$ preserves colimits. 
\end{prop}

\begin{rmk}
Let $\Hom{\Top}{F(X)}{S} = \Hom{\Sch}{X}{T(S)}$ 
\end{rmk}

\section{NOTE LOOK UP THE PROOF FOR PROJ -> LOCALLY FREE}

\section{Ravi Excersies}

\begin{rmk}
Maps $\Spec{k} \to \P^n_k$ are equivalent to giving a line bundle $\L$ on $\Spec{k}$ i.e. a one-dimensional $k$-vectorspace $V \cong k$ and $n+1$ sections $s_i \in V$ not all zero. We call this point $[s_0, \dots, s_n] \in \P^n_k$ up to isomorphism $\varphi : V \cong V'$ and $\varphi(s_i) = s_i'$ This is simply global scalling by $k^\times$. Furthermore, for any extension $K / k$ we can describe $\P^n_k(K)$ similarly but with $s_i \in K$. 
\end{rmk}

\begin{definition}
Projection from a rational point $\P^n_k \rat \P^{n-1}_k$ given a projection point $p \in \P^n_k$. We define this as follows: by an automorphism of $\P^n_k$ let $p = [1 : 0 : \cdots : 0]$. Take the dense open $U = D(X_0) \setminus \{ 0 \} = \Spec{x_1, \dots, x_n} \setminus \{ (0) \}$. Then consider the map $U \to \P^{n-1}_k$ via $\L = \struct{U}$ and $s_i = x_i$. These global sections generate because we have removed the point at which they all vanish. This rational map $\P^n_k \rat \P^{n-1}_k$ has domain $\Dom{f} = \P^n_k \setminus \{ p \}$.   
\end{definition}


\subsection{6.5 F}

Consider the conic $C = V(X^2 + Y^2 = Z^2) \subset \P^2_k$. Consider the map $\P^1_k \to \P^2_k$ defined by the line bundle $\L = \struct{\P^1}(2)$ and the sections $X_0^2 - X_1^2, 2 X_0 X_1, X_0^2 + X_1^2$. The image is exactly $C = V(X^2 + Y^2 = Z^2)$ and thus $C \cong \P^1_k$. However, if characteristic of $k = 2$ then these sections are $X_0^2 + X_1^2, 0, X_0^2 + X_1^2$ which does not define a map since these may all vanish simultaneously. In fact, $V(X^2 + Y^2 = Z^2)$ is not smooth in characteristic two since $X^2 + Y^2 = (X + Y)^2$ so we get $X + Y = \pm Z$ the union of two lines in $\P_k^2$. 
\bigskip\\ 
We can also describe an isomorphism as follows. First, lets do a change of coordinates $X \mapsto \tfrac{1}{2}(X + Z)$ and $Z \mapsto \tfrac{1}{2}(X - Z)$ then $C = V(XZ + Y^2)$. 
Take the point $p = [1 : 0 : 0]$ use the projection $\P^2_k \rat \P^1_k$ away from $p$. On the affine $D(X)$ this is the map $U = \Spec{k[y, z]/(z + y^2)} \setminus \{ 0 \} \to \P^1_k$ via $(y, z) \mapsto [y : z]$. Now $U = \Spec{k[y, y^{-1}]} = \Gm^k$ and the map is $\Gm^k \to \P^1_k$ via $t \mapsto [t, t^2]$. This is a rational map $C \rat \P^1_k$ of smooth projective curves so it extends to $C \to \P^1_k$ which is inverse to the previous map. 

\subsection{6.5 G}

Consider $C = \Spec{k[x, y]/(y^2 - x^3 - x^2)}$. Then we construct a rational map $C \rat \A^1_k$ via projecting from $p = (0,0)$. Explicitly, consider $U = D(x)$ and consider, $f : U \to \A^1_k$ via $t \mapsto y/x$. Inversely we define $g : \A^1_k \to C$ generated by the ring map $x \mapsto t^2 - 1$ and $y \mapsto  t(t^2 - 1)$. Note that we have seen this is the normalization $\A^1_k \to C$ of $C$. Then $g \circ f : U \to C$ is $x \mapsto y^2/x^2 - 1 = x$ and $y \mapsto y/x(y^2/x^2 - 1) = y$. Furthermore, $f \circ g : \Gm^k \to \A^1_k$ is $t \mapsto y/x \mapsto t$. Therefore, these are inverse rational maps showing that $C \birat \A^1_k$ is birational. However we cannot extend this rational map to $p$ since $\stalk{C}{p} = \Spec{(k[x, y]/(y^2 - x^2))_{(x, y)}}$ is not a domain and thus not regular.
\bigskip\\
This gives a formula for the rational points of $C$ by $\A^1_L \rat C_L$. Via $t \mapsto (t^2 - 1, t(t^2 - 1))$ which hit every $L$-rational point on $C$. Thus,
\[ C(L) = \{ (t^2 - 1, t(t^2 - 1)) \mid t \in L \} \]
We see that $C$ is a rational curve i.e. $C \birat \P^1_k$. 

\subsection{6.5 H}

Consider the quadric surface,
\[ Q = V(X^2 + Y^2 - Z^2 - W^2) \subset \P^3_k \]
First, we do a change of variables,
\[ X \mapsto \tfrac{1}{2}(X + Z) \quad Z \mapsto \tfrac{1}{2}(X - Z) \quad Y \mapsto \tfrac{1}{2}(Y + W) \quad W \mapsto \tfrac{1}{2}(Y - W) \]
which gives,
\[ Q = V(XZ + YW) \subset \P^3_k \]
Now we project from the point $p = [1 : 0 : 0 : 0]$ on $U = D(X) \setminus \{ p \}$ this gives the map, 
\[ f : \Spec{k[y, z, w]/(z + yw)} \setminus \{ 0 \} \to \P^2_k \]
via sections $y, z, w$. We describe an inverse $\P^2_k \rat Q$ as follows, consider $\P^2_k = \Proj{k[T_0, T_1, T_2]}$ then on $D(T_0 T_2)$ take $\Spec{k[t_0, t_1]} \to \Spec{k[y,z,w]/(z + yw)}$ via $y \mapsto -t_1$ and $z \mapsto -t_1^2/t_0$ and $w \mapsto -t_1 / t_0$ which is the map $(t_0, t_1) \mapsto (-t_1, -t_1^2/t_0, -t_1/t_0)$. This gives,
\[ g : D(T_0 T_2) \to D(XW) \]
and thus $\P^2_k \rat Q$. Furthermore, $g \circ f : D(XW) \to U$ is,
\[ (y, z, w) \mapsto [y : z : w] = [y/w : z/w : 1] \mapsto (-z/w, -z^2/wy, -w/y) = (y, z, w) \] restriction of the identity since $z + wy = 0$. Furhtermore, $f \circ g : D(T_0 T_1 T_2) \to D(T_0 T_1 T_2)$ is,
\[ (t_0, t_1) \mapsto (-t_1, t_1^2/t_0, -t_1/t_0) \mapsto [-t_1 : -t_1^2/t_0 : -t_1/t_0] = [-t_0 t_1 : -t_1^2 : -t_1] = [ t_0 : t_1 : 1] = (t_0, t_1) \]
Thus we have $\P^2_k \birat Q$ via $(t_0, t_1) \mapsto (-t_1, -t_1^2/t_0, -t_1/t_0)$ on $D(T_0 T_1 T_2) \cong D(XZW)$ and thus, clearing denominators and sending $t_1 \mapsto - t_1$, we get,
\[ Q(L) = \{ [t_0 : t_1 t_0 : - t_1^2 : t_1] \mid t_0, t_1 \in L^\times \} \cup \{ [0 : t_0 : t_1 : 0] \mid t_1, t_2 \in L^\times \} \cup \{ [0 : t_0 : 0 : t_1] \mid t_1, t_2 \in L^\times \} \]

\subsection{6.5 I}

Consider the rational map $c : \P^2_k \rat \P^2_k$ given by $[x : y : z] \mapsto [1/x : 1/y : 1/z]$ on $D(xyz)$. Since $\P^2_k$ is smooth, we can extend over smooth codimension one irreducibles i.e. $V(x)$ and $V(y)$ and $V(z)$ such that $c$ is defined on a dense open of each. In particular, on $D(yz)$ we have $[x : y : z] \mapsto [1 : x/y : x/z]$ is equivalent to $c$ restriced to $D(xyz)$ and likewise on $D(xy)$ and $D(xz)$. Thus,
\[ \Dom{f} \supset D(xy) \cup D(yz) \cup D(zx) = \P^2_k \setminus \{ [1 : 0 : 0], [0 : 1 : 0], [0 : 0 : 1] \} \]
The remaining closed set is codimension two so we generically will not be able to extend over it. Indeed, if we try $[x : y : z] \mapsto  [y : x : xy / z]$ on $D(z)$ then at $[0 : 0 : 1]$ this is not defined so it does not work.


\subsection{6.5 J}

Show that there are no dominant rational maps $\P^1_k \to F^n_k$ where $F^n_k = \Proj{k[X, Y, Z]/(X^n + Y^n - Z^n)}$ is the Fermat curve for $n > 2$.


\section{Which Hypersurfaces are Isomorphic to Projective Space?}

First, what is a hypersurface. 

\begin{defn}
A hypersurface $H \subset \P^n_k$ is a codimension one integral closed subscheme i.e. a prime divisor on $\P^n_k$. 
\end{defn}

\begin{theorem}
Every hypersurface $H \subset \P^n_k$ is of the form $V(F)$ for some $F \in \Gamma(\P^n_k, \struct{\P^n_k}(d))$. 
\end{theorem}

\begin{proof}
Since $H$ is a prime divisor and $\P^n_k$ is locally factorial (in particular regular) then $H$ is Cartier so its associated sheaf of ideals $\I \cong \struct{\P^n}(-d)$ is invertible. Then the inclusion map $\struct{\P^n_k}(-d) \embed \struct{\P^n_k}$ is given by some regular section $F \in \Gamma(\P^n_k, \struct{\P^n_k}(d))$ and thus $H = V(F)$. 
\end{proof}

\begin{rmk}
In the case $n = 1$ hypersurfaces are exactly points and since $\P^0_L = \Spec{L}$ then for any finite extension $L / k$ we can easily find $\Spec{L} \to \P^1_k$ so hypersurfaces of $\P^1_k$ are exactly of the form $\P^0_L$. We wonder how this generalizes to $n > 1$. Furthermore, note that we will use the fact that $H$ is effective Cartier and argue, from the exact sequence,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & \struct{\P^n_k}(-d) \arrow[r] & \struct{\P^n_k} \arrow[r] & \iota_* \struct{H} \arrow[r] & 0
\end{tikzcd}
\end{center}
and the associated LES,
\begin{center}
\begin{tikzcd}
H^0(\P^n_k, \struct{\P^n_k}) \arrow[d, equals] \arrow[r] & H^0(H, \struct{H}) \arrow[r] & H^1(\P^n_k, \struct{\P^n_k}(-d)) \arrow[d]
\\
k & & 0
\end{tikzcd}
\end{center}
to argue that for $n > 1$ we get a surjection $k \onto H^0(H, \struct{H})$ showing that we cannot have extensions of $k$. Note that this argument does not hold for $n = 1$ since $H^1(\P^1_k, \struct{\P^1_k}(-d)) \neq 0$ and we can, in fact, have extensions of the base field.
\end{rmk}

\begin{theorem}
Let $H \subset \P^n_k$ be a degree $d$ hypersurface i.e. $H = V(F)$ for $F \in \Gamma(\P^n_k, \struct{\P^n_k}(d))$ and $n > 1$. Then $H \cong \P^{n-1}_L$ for some $L / k$ exactly when $L = k$ and either $d = 1$ or $n = 2$ and $d = 2$. 
\end{theorem}

\begin{proof}
Suppose that $H \cong \P^{n-1}_L$ and consider the inclusion $\iota : H \embed \P^n_k$ and let $X = \P^n_k$. Then for the ample sheaf $\L = \iota^* \struct{X}(1)$ we have $\L \in \Pic{X} \cong \Pic{\P^{n-1}_L}$ so $\L$ correspond to $\struct{\P^{n-1}_k}(k)$ for some $k \in \Z$. Therefore, we must have,
\[ H^p(H, \L^{\otimes \ell}) = H^p(\P^{n-1}_k, \struct{\P^{n-1}_k}(k\ell)) \]
In particular, 
\begin{align*}
\dim_k H^p(H, \L^{\otimes \ell}) & = (\dim_k L) \cdot
\begin{cases}
{ k \ell + n-1 \choose n-1 } & p = 0
\\
0 & p \neq 0, n-1 
\\
{ - k \ell - 1 \choose n - 1} & p = n-1
\end{cases} 
\end{align*}
Furthermore, since $\iota$ is a closed immersion (and thus affine) we have,
\[ H^p(H, \L^{\otimes \ell}) = H^p(X, \iota_* \L^{\otimes \ell}) = H^p(X, \iota_* \struct{H} \otimes_{\struct{X}} \struct{X}(\ell)) \]
using the projection formula. Then, there is an exact sequence of sheaves,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & \I \arrow[d, equals] \arrow[r] & \struct{X} \arrow[r] & \iota_* \struct{H} \arrow[r] & 0
\\
& \struct{X}(-d)
\end{tikzcd}
\end{center}
Twisting by $\struct{X}(\ell)$ gives,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & \struct{X}(\ell - d) \arrow[r] & \struct{X}(\ell) \arrow[r] & \iota_* \struct{H} \otimes_{\struct{X}} \struct{X}(\ell) \arrow[r] & 0
\end{tikzcd}
\end{center}
Now denote $\F = \iota_* \struct{H}$ and $\F(\ell) = \F \otimes_{\struct{X}} \struct{X}(\ell)$ which is the sheaf whose cohomology we wish to compute. Taking the LES of cohomology we get,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & H^0(X, \struct{X}(\ell - d)) \arrow[r] & H^0(X, \struct{X}(\ell)) \arrow[r] & H^0(H, \L^{\otimes \ell}) \arrow[r] & H^1(X, \struct{X}(\ell-d)) \arrow[r, equals] & 0
\end{tikzcd}
\end{center}
since $n > 1$. First, for $\ell = 0$ the first sequence gives $H^0(X, \struct{X}) \onto H^0(H, \struct{H})$ and thus $k \onto L$ which is a $k$-morphism so $L = k$ since it is an extension. Furthermore, from the above short exact sequence, we see that,
\[ h^0(H, \L^{\otimes \ell}) = h^0(X, \struct{X}(\ell)) - h^0(X, \struct{X}(\ell - d)) = { \ell + n \choose n} - {\ell - d + n \choose n} \]
In particular, for $d > 1$ and $\ell = 1$ we have,
\[ h^0(H, \L) = h^0(X, \struct{X}(1)) = n + 1 \]
This must equal (since $L = k$),
\[ h^0(H, \L) = { k + n - 1 \choose n - 1} = { k + n - 1 \choose k} = r(k) \]
which is is zero for $k < 0$ and monotonically increasing for $k > 0$. Note that $r(0) = 1$ and $r(1) = n$ and $r(2) = \tfrac{1}{2}(n+1)n$. Since $r(1) < r(2) < r(3)$ and $r(1) = n$ then either $r(2) = n+1$ or $r(k) \neq n + 1$ for all $k$. However, $\tfrac{1}{2} n(n+1) = n + 1$ exacly when $n = 2$ for $n > 0$ forcing the case $n = 2$ when $d > 1$. In particular for the case $n = 2$ and $d = 2$ we get a plane conic which we know is isomorphic to $\P^1_k$. Also, we need to consider the case $d = 1$ in which $H$ is a hyperplane and it is easy to see that $H \cong \P^{n-1}_k$ via the map $\P^{n-1}_k \embed \P^n_k$ defined by $\struct{\P^{n-1}_k}(1)$ and the $n$ sections perpendicular to $F \in \Gamma(\P^n_k, \struct{\P^n_k}(1))$ which has image $H$ proving the claim.
\bigskip\\
Note further that we get,
\begin{center}
\begin{tikzcd}
H^{n-1}(X, \struct{X}(\ell)) \arrow[r] & H^{n-1}(H, \L^{\otimes \ell}) \arrow[r] & H^n(X, \struct{X}(\ell-d)) \arrow[r] & H^n(X, \struct{X}(\ell)) \arrow[r] & H^n(H, \struct{H})
\end{tikzcd}
\end{center}
and otherwise $H^p(X, \struct{X}(\ell)) = H^{p+1}(X, \struct{X}(\ell - d))$ so $H^p(H, \struct{H}) = 0$ for $p \neq 0, n-1$. Since $\dim{H} = n-1$ we have $H^n(H, \struct{H}) = 0$ and also $H^{n-1}(X, \struct{X}(\ell)) = 0$ so we find,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & H^{n-1}(H, \L^{\otimes \ell}) \arrow[r] & H^n(X, \struct{X}(\ell-d)) \arrow[r] & H^n(X, \struct{X}(\ell)) \arrow[r] & 0
\end{tikzcd}
\end{center}
so we have,
\[ h^{n-1}(H, \L^{\otimes \ell}) = h^{n-1}(X, \struct{X}(\ell - d)) - h^{n-1}(X, \struct{X}(\ell)) = { d - \ell - 1 \choose n } - { - \ell - 1 \choose n} \]
which does have the correct degree in $(-\ell)$ i.e. $n-1$ to be $h^{n-1}(\P^{n-1}_k, \struct{\P^{n-1}_k}(k\ell))$.
\end{proof}




\section{Random Comalg Facts}

\begin{lemma}
Let $(p_1)$ and $(p_2)$ be incommensurable prime ideals. Then $(p_1) \cap (p_2) = (p_1 p_2)$.
\end{lemma}

\begin{proof}
Clearly $(p_1 p_2) \subset (p_1) \cap (p_2)$ so it suffices to show that if $a = p_1 x = p_2 y$ then $a \in (p_1 p_2)$. Since $a \in (p_1)$ and $p_2 \notin (p_1)$ we get $y \in (p_1)$ and likewise $x \in (p_2)$ showing that $a \in (p_1 p_2)$. 
\end{proof}

\section{Open Questions}

\begin{enumerate}
\item Coproducts in the Category of Schemes vs Affine Schemes why are they different but agree with LRS coproducts in the first case which agree with Top coproducts since the Forget : LRS $\to$ Top has a right-adjoint (Raymond chat).
\item Which Hypersurfaces are Rational?  GOOD QUESTION. I think all quadric hypersurfaces are rational even though only the conic $X^2 + Y^2 - Z^2$ is on the nose isomorphic to $\P^1_k$. Can we prove this? Projection from a point?
\item Example of an affine curve which does not embed in $\A^2_k$
\item Does unirational imply finite domination by rational variety in general?
\end{enumerate}

\section{To Do on Thesis}

\begin{enumerate}
\item Example of non-arithmetic curve with no $\Delta_{\nu}$-regular equation, try the think with weakly $\Delta$-nondegenerate by never $\Delta$-nondegenerate.
\item Is the elliptic curve example I gave toric?
\item find example which is toric: use the 
\item Explicit example of curve not on toric surface?
\item Explicit example of curve not on a Hirzburch surface?
\item Example of curve which is toric but never weakly $\Delta$-nondegenerate?
\item 
\end{enumerate}


\section{When is a Sheaf a Pushforward}

THE FOLLOWING IS NOT QUITE CORRECT BUT APPROXIMATELY

\begin{lemma}
Let $\iota : f : Z \embed X$ be a closed embedding and $U = X \setminus Z$. Then if $\F$ is a sheaf of $\struct{X}$-modules then $\F = \iota_* \iota^{-1} \F$ if and only if $\F |_U = 0$. Furthermore, $\F = \iota_* \iota^* \F$ if and only if $\I \cdot \F = 0$ where $\I$ is the ideal sheaf of $Z \embed X$. Furthermore, if $Z$ is reduced then these notions agree. 
\end{lemma}

\begin{proof}

\end{proof}

\begin{rmk}
Given simply topological maps, a sheaf $\F$ is a pushforward of some sheaf on a closed subset exactly when it is zero on the complement. However, if we ask for this sheaf to be the pushforward of a sheaf of $\struct{Z}$-modules then we need the stronger $\I \cdot \F = 0$. 
\end{rmk}

\section{Cayley-Hamilton}

\begin{theorem}
Let $A \in \mathrm{M}_{n}(R)$ be a square matrix over a ring $R$ and $p_A(\lambda) = \det{(\lambda I - A)}$ be its characteristic polynomial. Then $p_A(A) = 0$.
\end{theorem}

\begin{proof}
First, I argue in the case that $R = k$ is a field.
Matrices $A \in \mathrm{M}_n(k)$ correspond to closed points of $X = \A^{n^2}_k = \Spec{k[a_{ij}]}$. Now the fundamental observation is that $p_A(A)$ is a matrix of polynomials in $a_{ij}$ and thus gives a morphism $p : X \to X$ via the ring map $k[a_{ij}] \to k[a_{ij}]$ sending $a_{ij}$ to the $i,j$ entry of the matrix $p_A(A)$ with $A = (a_{ij})$. 
\bigskip\\
Now, if $p_A$ is seperable (i.e. has distinct roots over $\bar{k}$) then $A$ is diagonalizable over $\bar{k}$ (eigenvectors with distinct eignevalues are independent). Then $A = B D B^{-1}$ with $D$ diagonal (these matrices defined over $\bar{k}$) and it is clear that $p_A(B D B^{-1}) = B p_A(D) B^{-1} = 0$ since $p_A(\lambda) = 0$ for each eigenvalue. Furthermore, this case occurs exactly when the discriminant $\Delta(p_A) \neq 0$ which is a polynomial in $a_{ij}$ so $\Delta : X \to \A^1_k$ gives a global function. We have shown that for any closed point $A \in D(\Delta)$, i.e. some matrix over $\bar{k}$ with $\Delta(p_A) = 0$, that  $p_A(A) = 0$ so the map $p : X \to X$ vanishes on the closed points of $D(\Delta)$ which is dense since it is open and nontrivial (any diagonal matrix over $\bar{k}$ with nonrepeated entries satisfies this, I guess I used $\bar{k}$ is infinite here) in an irreducible variety $X$. Thus $p : X \to X$ is the zero map since it vanishes on a dense set (using that $X$ is a variety). In particular $p$ is the zero polynomial in $a_{ij}$.
\bigskip\\
Now, for an arbitrary ring $R$ take a matrix $A \in \mathrm{M}_n(R)$ then $p(a_{ij}) = p_A(A)$ is an integer coefficient polynomial in $a_{ij}$ (meaning the coefficients are in the image $\Z \to R$). However, for each prime $\p \in \Spec{R}$, the above argument shows that $\overline{p_A(A)} \in \kappa(\p)$ is zero since it is the characteristic polynomial applied to the matrix $\overline{A} \in \mathrm{M}_n(\kappa(\p))$ over the field $\kappa(\p)$. Thus $p_A(A) \in \p$ for each $\p \in \Spec{R}$ so $p_A(A) \in \nilrad{R}$ for any $A$ thus the coefficents are in $\nilrad{R}$ (we can see this because reducing $p$ in $\kappa(\p)$ gives the zero polynomial). However, the coefficients are in the image of $\Z \to R$ then $\nilrad{R} \cap \Im{\Z} = \nilrad{\Z / (n)}$ where $n = \ker{(\Z \to R)}$ 
(DAMN DOESNT WORK)
\end{proof}


\section{Quasi-Compactness and Noetherian Spaces}

\begin{defn}
A topological space $X$ is Noetherian if every descending chain of closed sets stabilizes.
\end{defn}

\begin{lemma}
Subspaces of Noetherian subspaces are Noetherian.
\end{lemma}

\begin{proof}
Let $S \subset X$ with $X$ noetherian. Then the closed sets of $S$ are exactly $S \cap Z$ for $Z \subset X$ closed. Thus descending chains of closed sets in $S$ stabilize.
\end{proof}

\begin{defn}
A space is quasi-compact if every open cover has a finite subcover.
\end{defn}

\begin{lemma}
Noetherian spaces are quasi-compact. 
\end{lemma}

\begin{proof}
Let $U_{\alpha}$ be an open cover of $X$ which is Noetherian. Then consider the poset $A$ under inclusion of finite unions of the $U_\alpha$ all of which are open sets of $X$. Since $X$ is Noetherian any ascending chain of opens must stabilize so any chain in $A$ has a maximum. Then by Zorn's lemma $A$ has a maximal element which must be $X$ since the $U_\alpha$ form a cover. Therefore there exists a finite subcover.
\end{proof}

\begin{cor}
Every subset of a noetherian topological space is quasi-compact.
\end{cor}

\begin{defn}
A continuous map $f : X \to Y$ is quasi-compact if for each quasi-compact open $U \subset Y$ then $f^{-1}(U)$ is quasi-compact open.
\end{defn}

\subsection{The Case for Schemes}


\begin{lemma}
Affine schemes are quasi-compact.
\end{lemma}

\begin{proof}
Let $U_i$ be an open cover of $\Spec{A_i}$. Since $D(f)$ for $f \in A$ forms a basis of the topology on $\Spec{A_i}$ we can shrink to the case $U_i = D(f_i)$. Then.
\[ X = \bigcup_{i  \in I} D(f_i) = \bigcup_{i \in I} D(( \{ f_i \mid i \in I \} )) \]
And thus the ideal $I = ( \{ f_i \mid i \in I \} )$ is not contained in any maximal ideal so $I = (1)$. Therefore, there are $f_1, \dots, f_n$ such that $a_1 f_1 + \cdots a_n f_n = 1$ and thus $(f_1, \dots, f_n) = (1)$ which implies that,
\[ X = D((f_1, \dots, f_n)) = \bigcup_{i = 1}^n D(f_i) \]
so $X$ is quasi-compact.
\end{proof}

\begin{defn}
A scheme $X$ is \textit{locally Noetherian} if for every affine open $U$ the ring $\struct{X}(U)$ is Noetherian. $X$ is \textit{Noetherian} if it is quasi-compact and locally-Noetherian. 
\end{defn}

\begin{lemma}
If $(f_1, \dots, f_n) = A$ and $A_{f_i}$ is Noetherian then $A$ is Noetherian.
\end{lemma}

\begin{proof}
For any ideal $I \subset A$ we know $I_{f_i} \subset A_{f_i}$ is finitely generated. Clearing denominators and collecting the finite union of these finite generators gives a map $A^N \to I$ which is surjective when localized $A^N_{f_i} \onto I_{f_i}$. Consider the $A$-module $K = \coker{(A^N \to I)}$ then for any $x \in K$ we have $f_i^{n_i} \cdot x = 0$ for each $i$ but $f_i^{n_i}$ generate the unit ideal (since $D(f_i^{n_i}) = D(f_i)$ which cover $\Spec{A}$) so $x = 0$ to $A^N \onto I$ so $I$ is finitely generated showing that $A$ is Noetherian.
\end{proof}

\begin{lemma}
If $X$ has an open affine cover $U_i = \Spec{A_i}$ with $A_i$ noetherian then $X$ is locally noetherian. Moreover, if the cover can be made finite then $X$ is noetherian. 
\end{lemma}

\begin{proof}
Let $V = \Spec{B} \subset X$ be an affine open, Then $V \cap U_i \subset V$ is open so it may be covered by principal opens $D(f_{ij}) \subset V \cap U_i$ for $f_{ij} \in B$. Since $V$ is quasi-compact we may find a finite subcover. We need to show that $B_{f_{ij}}$ is Noetherian then since $D(f_{ij})$ cover $V$ we use the lemma to conclude that $B$ is Noetherian. However, $D(f_{ij}) \subset V \cap U_i$ can be covered by principal opens (of $U_i = \Spec{A_i}$) $W_{ijk} \subset D(f_{ij}) \subset U_i = \Spec{A_i}$ and each $(A_i)_{f_{ijk}}$ is Noetherian since $A_i$ is, so using the same lemma we find that $B_{f_{ij}}$ is Noetherian. 
\bigskip\\
Now suppose the cover is finite and let $V_j$ be any open cover of $X$. We need to show $X$ is quasi-compact so we must show that $V_i$ has a finite subcover. Consider $U_i \cap V_j$  which is open in the affine $U_i = \Spec{A_i}$ so it may be covered by principal opens $D(f_{ijk}) \subset U_i \cap V_j$. Now,
\[ U_i = \bigcup_{j,k} D(f_{ijk}) \]
but $U_i$ is affine and thus quasi-compact so we may find an finite subcover which only uses finitely many $V_i$ but the cover $U_i$ of $X$ is also finite so only finitely many $V_i$ are needed to cover $X$.  
\end{proof}

\begin{cor}
$X = \Spec{A}$ is Noetherian iff $A$ is a Noetherian ring.
\end{cor}

\begin{proof}
If $X$ is Noetherian then $\struct{X}(X) = A$ is a Noetherian ring ($X$ is affine and thus quasi-compact). Conversely $\Spec{A}$ is a finite Noetherian affine cover so $X$ is Noetherian.
\end{proof}

\begin{rmk}
It is not the case that for a Noetherian scheme we must have $\struct{X}(X)$ a noetherian ring even for varieties. See http://sma.epfl.ch/~ojangure/nichtnoethersch.pdf. 
\end{rmk}

\begin{lemma}
If $A$ is Noetherian then $\Spec{A}$ is a Noetherian topological space.
\end{lemma}

\begin{proof}
Every descending chain of subsets is of the form $V(I_1) \supsetneq V(I_2) \supsetneq V(I_3) \supsetneq \cdots$ but the ideals,
\[ \sqrt{I_1} \subsetneq \sqrt{I_2} \subsetneq \sqrt{I_3} \subsetneq \cdots \]
satbilize since $A$ is Noetherian and thus so does the chain of closed subsets.
\end{proof}

\begin{lemma}
If $X$ is a Noetherian scheme then its underlying topological space is Noetherian.
\end{lemma}

\begin{proof}
Choose a finite covering $U_i = \Spec{A_i}$ by Noetherian rings. Then for any descending chain of closed subsets $Z_1 \supsetneq Z_2 \supsetneq Z_3 \supsetneq \cdots$ we know $Z \cap U_i$ stabilizes at $n_i$ since $\Spec{A_i}$ is a Noetherian space. Thus, $Z$ satibilizes at $\max{n_i}$ which exists since the cover is finite. 
\end{proof}

\begin{rmk}
The converses of the above are false and so is $X$ Noetherian. Let $R$ be a non-Noetherian valuation ring. Then $\Spec{R}$ has two points and thus is Noetherian as a topological space but not as a scheme since $R$ is not a Noetherian ring. 
\end{rmk}

\begin{lemma}
If $X$ is locally Noetherian then any immersion $\iota : Z \embed X$ is quasi-compact.
\end{lemma}

\begin{proof}
Closed immersions are affine and thus quasi-compact so it suffices okay to show that open immersions are quasi-compact. Let $j : U \to X$ be an open immersion. It suffices to check that $j^{-1}(U_i)$ is quasi-compact on an affine open cover $U_i = \Spec{A_i}$ with $A_i$ Noetherian. But $j : j^{-1}(U_i) \to U_i \cap U$ is a homeomorphism and $\Spec{A_i}$ is a Noetherian topological space so every subset is quasi-compact and, in particular, $U_i \cap U$ is quasi-compact so $j^{-1}(U_i)$ is also.
\end{proof}

\begin{rmk}
When $X$ is Noetherian then it is a Noetherian space so any inclusion map $\iota : Z \embed X$ for \textit{any} subset $Z \subset X$ is quasi-compact since every subset is quasi-compact. In particular, every subset of $X$ is retrocompact. 
\end{rmk}

\subsection{Quasi-Compact Morphisms}

\begin{lemma}
A morphism $f : X \to Y$ is quasi-compact iff $Y$ has a cover by affine opens $V_i$ such that $f^{-1}(V_i)$ is quasi-compact.
\end{lemma}

\begin{proof}
Clearly if $f$ is quasi-compact then any affine open cover $V_i$ of $Y$ satisfies $f^{-1}(V_i)$ is quasi-compact since $V_i$ is a quasi-compact open by virtue of being affine open.
\bigskip\\
Now assume that such a cover exists. Let $U \subset Y$ be a quasi-compact open. Then $U$ is covered by finitely may $V_1, \dots, V_n$. Then $U \cap V_i$ is open in $V_i$ which is affine so it is covered by standard opens $W_{ij}$. Since $U$ is quasi-compact then we can choose finitely many $W_{ij}$. Now $f^{-1}(V_i)$ is quasi-compact by assumption so it has a finite cover by affine opens,
\[ f^{-1}(V_i) = \bigcup_{j = 1}^N \tilde{V}_{ij} \]
Then $f : \tilde{V}_{ik} \to V_i$ is a morphism of affine schemes so $f^{-1}(W_{ij}) \cap \tilde{V}_{ik}$ is a principal affine. Therefore,
\[ f^{-1}(U) = \bigcup_{i = 1}^n f^{-1}(V_i \cap U) = \bigcup_{i,j} f^{-1}(W_{ij}) = \bigcup_{i,j,k} f^{-1}(W_{ij}) \cap \tilde{V}_{ik} \]
is a finite union of principal affines each of which is quasi-compact so $f^{-1}(U)$ is quasi-compact. 
\end{proof}

\begin{proposition}
$X$ is quasi-compact iff any morphism $X \to T$ for some affine scheme $T$ is quasi-compact.
\end{proposition}

\begin{proof}
If $X$ is quasi-compact then $f : X \to T$ is quasi-compact since $T$ is an affine open cover of itself and $f^{-1}(T)$ is quasi-compact. Conversely, if $f : X \to T$ is quasi-compact with $T$ affine then $T$ is quasi-compact open in $T$ so $X = f^{-1}(T)$ is quasi-compact.
\end{proof}

\begin{lemma}
The base change of a quasi-compact morphism is quasi-compact.
\end{lemma}

\begin{proof}
(DO THIS)
\end{proof}

\section{Affine Morphisms}

\begin{defn}
A morphism $f : X \to Y$ is \textit{affine} if the preimage of every affine open is affine.
\end{defn}

\begin{lemma}
Every morphism of affine schemes is affine and thus quasi-compact.
\end{lemma}

\begin{proof}
Let $X = \Spec{A}$ and $Y = \Spec{B}$ and $f : X \to Y$ be a morphism of affine schemes given by a ring map $\varphi : B \to A$. Then, any affine open $\Spec{C} = V \subset Y$ can be covered by principal opens $D(f_i)$ for $f_i \in B$. Note that under $\psi : B \to C$ we see that $D(f_i) = D(\psi(f_i))$ since $D(f_i) \subset \Spec{C}$. Since $D(\psi(f_i))$ cover $\Spec{C}$ then $\psi(f_i) \in C$ generate the unit ideal. Then we have $f^{-1}(D(f_i)) = D(\varphi(f_i))$ which is affine and $\varphi(f_i)$ generate the unit ideal of $\Gamma(f^{-1}(V), \struct{X})$ so $f^{-1}$ is affine.
\end{proof}

\begin{rmk}
An alternative proof goes as follows. Consider the pullback diagram,
\begin{center}
\begin{tikzcd}
f^{-1}(U) \arrow[d, hook] \arrow[r] & U \arrow[d, hook]
\\
X \arrow[r] & Y
\end{tikzcd}
\end{center}
then open immersions are stable under base change so $f^{-1}(U) = U \times_Y X = \Spec{C \otimes_B A}$ if affine.
\end{rmk}

\begin{rmk}
In fact, by Tag 01S8, a morphism $f : X \to S$ is affine iff $X$ is relatively affine over $S$ meaning $X = \rSpec{S}{\mathcal{A}}$ for some quasi-coherent $\struct{S}$-algebra $\mathcal{A}$. 
\end{rmk}

\begin{lemma}
Let $f : X \to Y$ be a morphism and $W_i$ an affine open cover of $Y$ such that $f^{-1}(W_i)$ is affine. Then $f$ is affine.
\end{lemma}

\begin{proof}
Let $\Spec{A} = V \subset Y$ be affine open. Then $V_i = V \cap W_i$ is open in the affine open $V = \Spec{A}$ so it can be covered by principal opens $D(f_{ij}) \subset V \cap W_i$ for $f_{ij} \in A$. Since $f : f^{-1}(W_i) \to W_i$ is a morphism of affine schemes, the preimage of the affine open $D(f_{ij}) \subset V \cap W_i$ is affine $f^{-1}(D(f_{ij}))$ (note that $D(f_{ij}) \subset V \cap W_i$ is not necessarily a prinicpal affine open of $W_i$). But since $D(f_{ij})$ cover $\Spec{A}$ the $f_{ij} \in A$ generate the unit ideal and thus $f^\#(f_{ij}) \in \Gamma(f^{-1}(V), \struct{X})$ generate the unit ideal and $(f^{-1}(V))_{f_{ij}} = f^{-1}(D(f_{ij}))$ is affine so $f^{-1}(V)$ is affine.
\end{proof}

\begin{lemma}
The base change of an affine morphism is affine. 
\end{lemma}

\begin{proof}
(DO THIS)
\end{proof}


\begin{lemma}
Affine morphisms are quasi-compact.
\end{lemma}

\begin{proof}
If $f : X \to Y$ is affine then any affine open cover $V_i$ of $Y$ gives $f^{-1}(V_i)$ is affine and thus quasi-compact so $f$ is quasi-compact. 
\end{proof}



\section{Separatedness}

\begin{defn}
A morphism $f : X \to Y$ with diagonal $\Delta_{X/Y} : X \to X \times_Y X$ is,
\begin{enumerate}
\item \textit{separated} if the diagonal $\Delta_{X/Y}$ is a closed immersion
\item \textit{affine-separated} if the diagonal $\Delta_{X/Y}$ is affine
\item \textit{quasi-separated} if the diagonal $\Delta_{X/Y}$ is quasi-compact
\end{enumerate}
\end{defn}

\begin{lemma}
Any morphism of affine schemes is separated. Furthermore, affine morphisms are separated.
\end{lemma}

\begin{proof}
For a map $\Spec{A} \to \Spec{B}$ the diagonal is $\Spec{A} \to \Spec{A \otimes_B A}$ given by $A \otimes_B A \to A$ via $a_1 \otimes a_2 \mapsto a_1 a_2$ which is surjective so the diagonal is a closed immersion. The second fact is Tag 01S7.
\end{proof}

\begin{lemma}
The composition of (quasi/affine)-separated morphisms are (quasi/affine)-separated. 
\end{lemma}

\begin{proof}
(DO THIS)
\end{proof}

\begin{lemma}
For any morphism $f : X \to Y$ the diagonal $\Delta_{X / Y} : X \to X \times_Y X$ is an immersion.
\end{lemma}

\begin{proof}
Let $V_i$ be an affine cover of $Y$ then choose an affine open cover $U_{ij}$ of $X$ with $f(U_{ij}) \subset V_i$. Then the diagonal of the affine map $U_{ij} \to V_j$ is $U_{ij} \to U_{ij} \times_{V_i} U_{ij}$ which is a closed immersion since it corresponds to $A_{ij} \otimes_{B_i} A_{ij} \to A_{ij}$ via $a_1 \otimes a_2 \mapsto a_1 a_2$ is surjective. Therefore $f : X \to Y$ is locally on $X$ a closed immersion and thus an immersion. 
\end{proof}

\begin{rmk}
Therefore, to show that $f : X \to Y$ is separated, it suffices to show that the diagonal is closed (here equivalently meaning that the map or its image is closed). 
\end{rmk}

\begin{lemma}
If $X$ is Noetherian then every morphism $f : X \to S$ is quasi-compact and quasi-seperated. 
\end{lemma}

\begin{proof}
Every subset of $X$ is quasi-compact since $X$ is (topologically) Noetherian. Then apply the first part to the diagonal $\Delta_{X/S} : X \to X \times_S X$ which is then quasi-compact and thus $f : X \to S$ is quasi-separated.
\end{proof}

\begin{lemma}
Let $f : X \to S$ be affine-separated/quasi-separated with $S = \Spec{A}$ affine. Then for any two affine opens $U, V \subset X$ the intersection $U \cap V$ is affine/quasi-compact. 
\end{lemma}

\begin{proof}
Consider the pullback diagram,
\begin{center}
\begin{tikzcd}
U \cap V \arrow[d, hook] \arrow[r] & U \times_S V \arrow[d, hook]
\\
X \arrow[r, "\Delta_{X/S}"] & X \times_S X 
\end{tikzcd}
\end{center}
where $U \cap V = \Delta_{X/S}(U \times_S V)$ using the basechange of an open immersion is an open immersion. Then since $S$ is affine, $U \times_S V$ is affine and thus quasi-compact open of $X \times_S X$. Then if $f$ is affine-separated then $\Delta_{X/S}$ is affine so $U \cap V = \Delta_{X/S}(U \times_S V)$ is affine. If $f$ is quasi-separated then $\Delta_{X/S}$ is quasi-compact so $U \cap V = \Delta_{X/S}(U \times_S V)$ is quasi-compact.
\end{proof}

\begin{rmk}
In the separated case, we see that $U \cap V$ is affine and $\struct{X}(U) \otimes_{\struct{S}(S)} \struct{X}(V) \to \struct{X}(U \cap V)$ is surjective.
\end{rmk}

\begin{rmk}
Tag 01KO gives a generalization of this lemma. For the separated case see Tag 01KP.
\end{rmk}

\begin{lemma}
Let $f : X \to Y$ be quasi-compact and quasi-separated and $\F$ be a quasi-coherent $\struct{X}$-module then $f_* \F$ is a quasi-coherent $\struct{Y}$-module.
\end{lemma}

\begin{proof}
Sinsce this is local on $Y$ we can restrict to the case that $Y$ is affine. Then   $X = f^{-1}(Y)$ is quasi-compact (when $Y$ is not affine $f^{-1}(V)$ will be quasi-compact) so take a finite affine open cover $U_i$ and since $f : X \to Y$ is quasi-seperated over an affine then by the above lemma $U_i \cap U_j$ is quasi-compact so it has a finite affine open cover $U_{ijk}$. Then, by the sheaf property, there is an exact sequence of sheaves on $Y$
\begin{center}
\begin{tikzcd}
0 \arrow[r] & f_* \F \arrow[r] & \bigoplus\limits_{i} f_* (\F|_{U_i}) \arrow[r] & \bigoplus\limits_{ijk} f_* (\F|_{U_{ijk}}) 
\end{tikzcd}
\end{center}
which works because these are finite sums. However, $f : U_{ijk} \to Y$ is a morphism of affine schemes and since $\F$ is quasi-coherent we have $\F |_{U_{ijk}} = \wt{M_{ijk}}$ so $f_* (\F|_{U_{ijk}}) = \wt{M_{ijk}}$ as an $\struct{Y}(Y)$-module. Thus, $f_* \F$ is a kernel of quasi-coherent $\struct{Y}$-modules and thus is quasi-coherent. 
\end{proof}

\begin{rmk}
If $X$ is Noetherian then $f : X \to Y$ is automatically quasi-compact and quasi-separated so there is no issue in the above lemma.
\end{rmk}


\section{Sets Cut Out By Some Function}

\newcommand{\R}{\mathbb{R}}

\begin{theorem}
Every closed subset $E \subset \R^n$ is the vanishing of some smooth function.
\end{theorem}

\begin{proof}
Since $\R^n$ is a metric space, it is hereditarily paracompact so the complement $E^C \subset \R^n$ is paracomapct. Since $\R^n$ is seperable, $E^C$ is covered by countably many balls $B_{r_i}(a_i)$ for $a_i \in E^C$ since it is open so, by paracompactness, we may shrink the radii such that this cover is locally finite. Choose a smooth bump function, 
\[ g : [0, \infty) \to [0, \infty) \]
such that $g([0, 1)) > 0$ and $g([1, \infty)) = 0$ e.g. 
\[ g(x) = 
\begin{cases}
\exp{\left( - \frac{1}{1 - x} \right)} & x < 1
\\
0 & x \ge 1
\end{cases} \]
Then consider,
\[ f(x) = \sum_{x \in X} g(|x - a_i|/r_i) \]
Since $g(|x - a_i|/r_i) = 0$ for $x \notin B_{r_i}(a_i)$ and the cover is locally finite, this is a finite sum so $f$ is well-defined and smooth. Furthermore, 
\[ f(x) = 0 \iff x \notin \forall i \in I : x \notin B_{r_i}(a_i) \iff x \notin E^C \iff x \in E \]
\end{proof}

\begin{rmk}
This esaily generalizes to show that any closed subset $Z \subset X$ of a smooth manifold is cut out by closed sets.
\end{rmk}
\noindent
Our next question is what does the vanishing of analytic or holomorphic functions look like. We have one result.

\begin{prop}
A nontrivial vanishing set of analytic functions in $\R^n$ (or holomophic functions in $\mathbb{C}^n$) has positive codimension. Explicitly, it does not contain any nonempty open. 
\end{prop}

\begin{proof}
This is clear because analytic and holomorphic functions which vanish on a nonempty open vanish everywhere. 
\end{proof}

\section{Cousins Problems}

Here we let $X$ be a complex manifold and $\struct{X}$ be its sheaf of holomorphic functions and $\K_X$ be its sheaf of meromorphic functions. The Cousins problems are the following questions given a cover $U_i$ and a meromorphic function $f_i \in \Gamma(U_i, \K_X)$ on $U_i$. 

\begin{defn}
The Cousins problems ask the following. 
\begin{enumerate}
\item (First or additive Cousin Problem) if $(f_i - f_j)|_{U_i \cap U_j}$ is holomorphic for each pair $i,j$ then does there exist a global meromorphic function $f \in \Gamma(X, \K_X)$ such that $f|_{U_i} - f_i$ is holomorphic?
\item (Second or multiplicative Cousin Problem) if $(f_i / f_j)|_{U_i \cap U_j}$ is non-vanishing holomoprhic for each pair $i,j$ then does there exist a global meromorphic function $f \in \Gamma(X, \K_X)$ such that $f|_{U_i} / f_i$ is holomorphic and non-vanishing?
\end{enumerate}
\end{defn}
\noindent\\
Notice that set of pairs $\{ (U_i, f_i) \}$ in the first Cousin problem defines a global section of the sheaf $\K_X / \struct{X}$ exactly because $(f_i - f_j)|_{U_i \cap U_j} \in \struct{X}(U_i \cap U_j)$ is holomorphic. Likewsie, the set of pairs $\{ (U_i, f_i) \}$ in the second Cousin problem defined a global section of the sheaf $\K_X^\times / \struct{X}^\times$ exactly because $(f_i / f_j) |_{U_i \cap U_j} \in \struct{X}^\times(U_i \cap U_j)$ is holomorphic and nonvanishing. Therefore, we can restate the Cousins problems as follows.

\begin{defn}
The Cousins problems ask the following. 
\begin{enumerate}
\item (First Cousin Problem) is the map $H^0(X, \K_X) \to H^0(X, \K_X / \struct{X})$ surjective?
\item (Second Cousin Problem) is the map $H^0(X, \K_X^\times) \to H^0(X, \K_X^\times / \struct{X}^\times)$ surjective?
\end{enumerate}
\end{defn}
\noindent\\
Now we can solve these problems using the following two exact sequences of sheaves,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & \struct{X} \arrow[r] & \K_X \arrow[r] & \K_X / \struct{X} \arrow[r] & 0
\\
0 \arrow[r] & \struct{X}^\times \arrow[r] & \K_X^\times \arrow[r] & \K_X^\times / \struct{X}^\times \arrow[r] & 0
\end{tikzcd}
\end{center}
and we can relate the sheaf cohomology needed in the two problems via the exponential exact sequence,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & \underline{\Z} \arrow[r, "2 \pi i"] & \struct{X} \arrow[r, "\exp"] & \struct{X}^\times \arrow[r] & 0
\end{tikzcd}
\end{center}

\begin{theorem}
The first cousin problem is solvable when $H^1(X, \struct{X}) = 0$. 
\end{theorem}

\begin{proof}
The first exact sequence gives a cohomology exact sequence,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & H^0(X, \struct{X}) \arrow[r] & H^0(X, \K_X) \arrow[r] & H^0(X, \K_X/\struct{X}) \arrow[r] & H^1(X, \struct{X}) \arrow[r] & H^1(X, \K_X)
\end{tikzcd}
\end{center}
Clearly, if $H^1(X, \struct{X}) = 0$ then, by exactness, $H^0(X, \K_X) \to H^0(X, \K_X / \struct{X})$ is surjective. 
\end{proof}

\begin{rmk}
By Cartan's theorem B, we know $H^1(X, \struct{X}) = 0$ for any Stein manifold. So the first Cousin problem is always solvable for Stein manifolds.
\end{rmk}

\begin{theorem}
The second cousin problem is solvable when $H^1(X, \struct{X}^\times) = 0$ or when $H^1(X, \struct{X}) = H^2(X, \struct{X}) = 0$ and $H^2(X; \Z) = 0$.
\end{theorem}

\begin{proof}
The second exact sequence gives a cohomology exact sequence,
\begin{center}
\begin{tikzcd}
0 \arrow[r] & H^0(X, \struct{X}^\times) \arrow[r] & H^0(X, \K_X^\times) \arrow[r] & H^0(X, \K_X^\times/\struct{X}^\times) \arrow[r] & H^1(X, \struct{X}^\times) \arrow[r] & H^1(X, \K_X^\times)
\end{tikzcd}
\end{center}
Clearly, if $H^1(X, \struct{X}^\times) = 0$ then, by exactness, $H^0(X, \K_X) \to H^0(X, \K_X / \struct{X})$ is surjective. Now consider the cohomology of the exponential sequence,
\begin{center}
\begin{tikzcd}
H^1(X; \Z) \arrow[r] & H^1(X, \struct{X}) \arrow[r] & H^1(X, \struct{X}^\times) \arrow[r] & H^2(X; \Z) \arrow[r] & H^2(X, \struct{X}) 
\end{tikzcd}
\end{center}
Then if $H^1(X, \struct{X}) = 0$ and $H^2(X, \struct{X}) = 0$ we get an isomorphism (the first Chern class) $H^1(X, \struct{X}^\times) = H^2(X; \Z)$ so if $H^2(X; \Z) = 0$ then $H^1(X, \struct{X}^\times) = 0$ giving the surjection. 
\end{proof}

\begin{rmk}
For Stein manifolds we always have $H^p(X, \struct{X}) = 0$ for $p > 0$ by Cartan's theorem B. Therefore, the second cousin problem is solvable for Stein manifolds when $H^2(X; \Z) = 0$. 
\end{rmk}

\section{The Topology of Schemes}

Here I want to ask what the topology of schemes ``looks like'' from the perspective of algebraic topology. The importance of the analytification functor $X \mapsto X^\an$ is that it alows us to compute the ``correct'' topological invariants to complex varieties. However, what happens if we try to compute algebraic topology on the Zariski topology?

\begin{lemma}
Suppose $X$ is a topological space with a dense point $\xi \in X$. Then $X$ is contractible.
\end{lemma}

\begin{proof}
Consider the homotopy $h : X \times I \to X$ defined by,
\[ h(x, t) = 
\begin{cases}
x & t = 0
\\
\eta & t > 0
\end{cases} \]
This is continuous because no nontrivial closed set $Z \subset X$ contains $\xi$ so $h^{-1}(Z) = Z \times \{ 0 \}$ which is closed. Furthermore $h^{-1}(X) = X \times I$ so $h$ is continuous. 
\end{proof}

\begin{rmk}
In particular, we see that every irreducible scheme is contractible. 
\end{rmk}
\noindent\\
However, there are example of varieties which have nontrivial homotopy type. 

\begin{example}
https://math.stackexchange.com/questions/2701914/connected-non-contractible-schemes
\end{example}

\end{document}
