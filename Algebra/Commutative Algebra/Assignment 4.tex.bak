\documentclass[12pt]{extarticle}
\include{CommutativeAlgebraCommands}

\begin{document}
\atitle{4}
 
\section*{Problem 1}

\subsection*{(a)}

Let $A$ be a Noetherian ring and consider a descending chain of closed subsets $V_i$ of $\Spec{A}$ i.e.,
\[ V_1 \supset V_2 \supset V_3 \supset \cdots \]
Any closed set can be written as $V_i = V(I_i)$ for some ideal $I_i \subset A$ which implies that, by Lemma \ref{radial_order}, we have an ascending chain of ideals,
\[ \sqrt{I_1} \subset \sqrt{I_2} \subset \sqrt{I_3} \subset \cdots \]
Since $A$ is Noetherian, this chain must stabilize meaning that $V = V(I) = V(\sqrt{I})$ will also stabilize. Thus, $\Spec{A}$ is a Noetherian space. 

\subsection*{(b)}

Let $A$ be a ring and $F \subset \Spec{A}$ a closed set. Then we know $F = V(I)$ for some ideal $I \subset A$. Suppose that $F = V(\p)$ for some $\p \in F$. First, such a generic point is unique because if $F = V(\p')$ for some other $\p' \in F$ then $\p \in V(\p')$ and $\p' \in V(\p)$ so $\p' \supset \p$ and $\p \supset \p'$ and thus $\p' = \p$. 
\bigskip\\
Suppose we can decompose $F = Z_1 \cup Z_2$ into closed proper subsets. Then $Z_1 = V(I_1)$ and $Z_2 = V(I_2)$ and $Z_1 \cup Z_2 = V(I_1 I_2)$. Since $Z_1, Z_2 \subsetneq F$ we must have $\p \subsetneq \sqrt{I_1}$ and $\p \subsetneq \sqrt{I_2}$. Furthermore, $\sqrt{I_1 I_2} = \sqrt{I_1} \cap \sqrt{I_2} \supset \p$. But if $\p \supset \sqrt{I_1} \cap \sqrt{I_2}$ then $\p$ must lie above one of them which we know it does not. Thus, $\p \subsetneq \sqrt{I_1} \cap \sqrt{I_2}$ so $Z_1 \cup Z_2$ must also be a proper subset contradicting the reducibility.
\bigskip\\
Now suppose that $F$ is irreducible. Since $F$ is closed, we may write $F = V(J) = V(\sqrt{J})$ and take $I = \sqrt{J}$. Suppose that $xy \in I$ then the ideals $I_1 = I + x$ and $I_2 = I + y$ lie above $I$ so $Z_1 = V(I_1)$ and $Z_2 = V(I_2)$ are subsets of $F = V(I)$. Furthermore, 
\[ Z_1 \cup Z_2 = V(I_1 I_2) = V(I^2 + Ix + I y + xy) \supset V(I) \]
since $I^2 + Ix + I y + x y \subset I$. But since $Z_1, Z_2 \subset F$ we have $Z_1 \cup Z_2 = F$ so by irreducibility we must have $Z_1 = F$ or $Z_2 = F$. WLOG take $Z_1 = F$ so $V(I + x) = V(I)$. However, if $x \notin I$ then no power of $x$ lies in $J$ so $S_x = \{1, x, x^2, \dots, \}$ is disjoint from $J$. By Lemma \ref{prime_disjoint_to}, there exists a prime ideal not containing powers of $x$ above $J$ (and thus above $\sqrt{J} = I$) which contradicts $V(I) = V(I + x)$. Thus, $x \in I$ so $I$ is a prime ideal. Therefore, $F = V(\p)$. 

\subsection*{(c)}

Let $X$ be a Noetherian topological space. Let $\Sigma$ be the set of all closed subsets of $X$ which are cannot be written as the finite union of closed irreducible sets without any inclusion relations. We assume that $X \in \Sigma$ so that it is nonempty. Any chain of $\Sigma$ (comprised of closed sets) stabilizes below by the Noetherian property and thus has a minimal element. By Zorn's Lemma, $\Sigma$ has a minimal element $W$. Since $W$ is not irreducible we can decompose $W = W_1 \cup W_2$ into proper closed sets $W_1$ and $W_2$. By minimality, $W_1, W_2 \notin \Sigma$ but they are closed and thus can be written as the union of finitely many closed irreducible sets with no inclusions,
\[ W_1 = Z_1 \cup \cdots \cup Z_n \quad \text{and} \quad W_2 = Y_1 \cup \cdots \cup  Y_k \]
Then we have,  
\[ W = W_1 \cup W_2 = Z_1 \cup \cdots \cup Z_n \cup Y_1 \cup \cdots \cup Y_k \]
which is a finite union of closed irreducible sets. There are no inclusions between different $Z_i$ and different $Y_i$. Furthermore, if $Z_i \subset Y_i$ then I can remove $Z_i$ from the union. Thus, I can assume that there are no inclusions. This means that $W \notin \Sigma$ which contradicts its definition so the assumption that $\Sigma$ was nonempty is false. Thus, $X \notin \Sigma$ so $X$ may be decomposed into a finite union of closed irreducible sets without any inclusion relations between them.

\section*{Problem 2}

\subsection*{(a)}

Suppose that $Z$ and $Z'$ are constructible. We can write,
\[Z = \bigcup_{i = 1}^n O_i \cap F_i \quad \text{and} \quad \bigcup_{i = 1}^{n'} O'_i \cap F'_i \]
with $O_i$ and $O'_i$ open and $F_i$ and $F_i'$ closed. Then clearly,
\[ Z \cup Z' = \bigcup_{i = 1}^n O_i \cap F_i \cup \bigcup_{i = 1}^{n'} O_i' \cap F_i' \]
is also constructible. Note, by adding sets of the form $O_i = F_i = \varnothing$ which does not change the union we can assume that $n = n'$ in the decompositions of $Z$ and $Z'$. Then,
\begin{align*}
Z \cap Z' = \bigcup_{i = 1}^n [O_i \cap O'_i] \cap [F_i \cap F_i']
\end{align*}
which is constructible since $O_i \cap O_i'$ is open (finite intersection of open sets) and $F_i \cap F_i'$ is closed (arbitrary intersection of closed sets). Next,
\begin{align*}
Z \setminus Z' = Z \cap (X \setminus Z')
\end{align*}
so, using the intersection property, it suffices to show that $X \setminus Z'$ is constructible to show that set differences are. However, we can write,
\[ Z^C = \bigcap_{i = 1}^n O_i^C \cup F_i^C \]
Since $O_i^C = X \cap O_i^C$ is closed and $F_i^C = F_i^C \cap X$ is open both are constructible. Since $Z^C$ is produced from finite unions and intersections of constructible sets it is constructible. 

\subsection*{(b)}

Let $X$ be Noetherian. Suppose that $Z \subset X$ is constructible then we can write,
\[ Z = \bigcup_{i = 1}^n O_i \cap F_i \]
for open $O_i$ an closed $F_i$. Suppose that $X_0$ is a closed irreducible subset of $X$ and $X_0 \cap Z$ is dense in $X_0$. Then,
\[ Z \cap X_0 = \bigcup_{i = 1}^n (O_i \cap X_0) \cap (F_i \cap X_0) \]
Therefore,
\[ X_0 = \overline{(Z \cap X_0)} \subset \bigcup_{i = 1}^n (F_i \cap X_0) = X_0 \cap \bigcup_{i = 1}^{n} F_i \]
making the inclusion an equality. Thus,
\[ X_0 =  \bigcup_{i = 1}^n (F_i \cap X_0) \]
However, $X_0$ is irreducible are $F_i \cap X_0$ is closed in $X_0$ so we must have $X_0 = X_0 \cap F_i$ for some $F_i$. Therefore, $O_i \cap X_0 = (O_i \cap X_0) \cap (F_i \cap X_0) \subset Z \cap X_0$ so $Z \cap X_0$ contains a nonempty open.
\bigskip\\
Now conversely, we assume the classification: $Z \cap X_0$ is either not dense in $X_0$ or $Z \cap X_0$ contains an open of $X_0$ for each closed irreducible $X_0$. Consider the poset $\Sigma$ of all closed subsets of $X_0$ of $X$ such that $Z \cap X_0$ is not constructible ordered by inclusion. We assume this poset is nonempty. Since $X$ is Noetherian, each descending chain of $\Sigma$ (being comprised of closed sets) stabilizes and thus has a minimal element. Therefore, by Zorn's Lemma, $\Sigma$ has a minimal element $\tilde{X}$. Thus, if $X_0 \subset \tilde{X}$ is any proper closed subset then $Z \cap X_0$ is constructible by minimality. I claim that $\tilde{X}$ is irreducible. Suppose that we decompose $\tilde{X} = X_1 \cup X_2$ into closed proper subsets then $Z \cap \tilde{X} = (Z \cap X_1) \cup (Z \cap X_2)$. However, by minimality, $Z \cap X_1$ and $Z \cap X_2$ are constructible and thus $Z \cap \tilde{X} = (Z \cap X_1) \cup (Z \cap X_2)$ is also constructible, a contradiction of $\tilde{X} \in \Sigma$. 
\bigskip\\
Now suppose that $Z \cap \tilde{X}$ is not dense in $\tilde{X}$. Then, $\overline{(Z \cap \tilde{X})}$ is a proper closed subset of $\tilde{X}$ so $Z \cap \tilde{X} = (Z \cap \tilde{X}) \cap \overline{(Z \cap \tilde{X})}$ is constructible by the minimality of $\tilde{X}$. But this again contradicts $\tilde{X} \in \Sigma$. Therefore, $Z \cap \tilde{X}$ must be dense in $\tilde{X}$. Using the classification, there exists a nonempty open (in $\tilde{X}$) set $U \subset Z \cap \tilde{X}$. Then $X_0 = \tilde{X} \setminus U$ is a proper closed subset of $X$ and thus $Z \cap X_0$ is constructible. However, then $Z \cap \tilde{X} = U \cup (Z \cap X_0)$ since $U \subset Z \cap \tilde{X}$ which implies that $Z \cap \tilde{X}$ is constructible since $U$ is open and $Z \cap X_0$ is constructible. Therefore, $\tilde{X} \notin \Sigma$, a contradiction of its definition as least element. Thus, $\Sigma$ must be nonempty so $Z \cap Y$ is constructible for any closed $Y$. In particular, $Z \cap X = Z$ is constructible.


\section*{Problem 3}

Let $A$ be a Noetherian ring and $Z \subset \Spec{A}$ a constructible set. Let $U(f)$ denote the elementary open set $V((f))^C$. By Lemma \ref{finite_union_elementary_open}, we may write any open set of $\Spec{A}$ as a finite union of such open sets. Therefore, when we decompose,
\[ Z = \bigcup_{i = 1}^n O_i \cap F_i \]
where $O_i$ is open and $F_i$ is closed we may assume that each $O_i$ is an elementary open by adding each factor to the union and distributing the intersection with the closed set. Therefore we can write,
\[ Z = \bigcup_{i = 1}^n U(f_i) \cap V(I_i) \]
for some $f_i \in A$ and ideal $I_i \subset A$. Let $S_f = \{1, f, f^2, f^3, \cdots \}$ be the multiplicative set of powers of $f$. I claim that $B = S_f^{-1} (A / I)$ is an $A$-algebra whose image under $\Spec{B} \to \Spec{A}$ is exactly $U(f) \cap V(I)$. First, $S_f$ does not contain zero when reduced to $A/I$ because $f \notin I$ otherwise $U(f) \cap V(I)$ would be empty which we can assume is false. The prime ideals of $A / I$ are exactly those primes of $A$ above $I$ i.e. $V(I)$. Furthermore, we proved previously that the image of the map $\Spec{S_f^{-1}(A / I)} \to \Spec{(A / I)}$ is exactly those prime ideals of $A / I$ disjoint from $S_f$. However, $S_f \cap \p = \varnothing$ if and only if $f \notin \p$ since $\p$ is prime. Therefore, the image is exactly $U(f) = V(f)^C$ (with primes ranging over those of $A/I$ which are given by $V(I)$). Thus, the image under the composition of maps,
\[ \Spec{S^{-1}_f (A / I)} \to \Spec{A / I} \to \Spec{A} \]
gives exactly $U(f) \cap V(I)$. 
\bigskip\\
Let $B_i = S^{-1}_{f_i} (A / I_i)$ and $B = B_1 \times \cdots \times B_n$. 
Now, by Lemma \ref{spec_of_products}, the image of the map $\Spec{B} \to \Spec{A}$ is equal to,
\[ \bigcup_{i = 1}^n \Im{\Spec{B_i} \to \Spec{A}} = \bigcup_{i = 1}^n U(f_i) \cap V(I_i) = Z \]
Furthermore, $B$ is a finitely generated $A$-algebra since there exists a surjective map,
\begin{center}
\begin{tikzcd}
A[x_1, \dots, x_n] \arrow[r, two heads] & B = S_{f_1}^{-1} (A / I_1) \times \cdots \times S_{f_n}^{-1} (A / I_n)
\end{tikzcd}
\end{center}
given by sending $x_i \mapsto \bar{f_i}^{-1}$ and reducing elements of $a$ modulo $I_i$ in each factor. 
\section*{Problem 4}

Let $A$ be a Noetherian domain and $B$ a finitely generated $A$-algebra such that $A \to B$ is injective. First, since $B$ is finitely generated as an $A$-algebra there is a surjection,
\begin{center}
\begin{tikzcd}
A[x_1, \dots, x_n] \arrow[r, two heads] & B
\end{tikzcd}
\end{center}
and from now on let $x_1, \dots, x_n$ denote the images inside $B$. We may assume that $x_1, \dots, x_r$ are algebraically independent and therefore form a transcendence basis for the fraction field of $B$ over the fraction field of $A$. Let $\tilde{A} = A[x_1, \dots, x_r]$. If $B = \tilde{A}$ then we are done because $\Spec{A[x_1, \dots, x_r]} \to \Spec{A}$ is surjective and thus its image contains every elementary open set. 
\bigskip\\
Now, for each $x_i$ with $r < i \le n$ we must have a polynomial relation over $\tilde{A}$ in $B$,
\[ \sum_{j = 0}^{d_j} a_{ij} x_i^{d_j - j} = 0 \]
with each $a_{ij} \in \tilde{A}$. Define the element of $\tilde{A}$
\[ a = \prod_{i = r + 1}^n a_{i0} \]
which is a polynomial in $x_1, \dots, x_r$. Let $c$ denote any one of this polynomial's nonzero coefficients. I claim that the image of the map $\Spec{B} \to \Spec{A}$ contains $U(c)$. Let $\p \in U(c)$ that is a prime ideal of $A$ with $c \notin \p$. Let $\q = \p[x_1, \dots, x_r] \subset \tilde{A}$ be a prime ideal of $\tilde{A}$ above $\p$. Since $c$ is not in $\p$ and is a nonzero coefficient of the polynomial $a$ we cannot have $a \in \q$. Consider the extension of rings $B_\q$ over $\tilde{A}_{\q}$. Since $a \notin \q$ we know that $a$ is inevitable in $\tilde{A}_{\q}$ which implies that each relation of the $x_{r+1}, \cdots, x_n$ over $\tilde{A}_{\q}$ can be reduced to a monic one since their leading coefficients are units. Therefore, the generators of $B_{\q}$ are integral over $\tilde{A}_{\q}$ which implies that $B_{\q}$ is integral over $\tilde{A}_{\q}$ since sums and products of integral elements remain integral. By Cohen's theorem, the map $\Spec{B_\q} \to \mathrm{Spec}{(\tilde{A}_{\q})}$ is surjective so there exists a prime $\P B_{\q}$ of $B_{\q}$ which lies above $\q \tilde{A}_{\q}$. Therefore, $\P \cap \tilde{A} = \q$ and hence $\P \cap A = \P \cap \tilde{A} \cap A = \q \cap A = \p$. Therefore, there exists a prime of $B$ above $\p$ so $U(c)$ is contained in the image of $\Spec{B} \to \Spec{A}$. 

\section*{Problem 5}

Let $A$ be a Noetherian ring and $B$ a finitely generated $A$-algebra. Since there exists a surjection,
\begin{center}
\begin{tikzcd}
A[x_1, \dots, x_n] \arrow[r] & B
\end{tikzcd}
\end{center}
we know that $B$ is Noetherian by the Hilbert basis theorem. Thus, both $\Spec{A}$ and $\Spec{B}$ are Noetherian topological spaces.

\subsection*{(a)}

Suppose that $Z \subset \Spec{B}$ is a constructible set. First, assume that $Z = \Spec{B}$. We want to show that its image $Z'$ in $\Spec{A}$ is constructible. Let $X_0 \subset \Spec{A}$ be a closed irreducible set. We have shown that such a set must have a generic point $X_0 = V(\p)$. Suppose that $X_0 \cap Z'$ is dense in $X_0$, we need to show that $X_0 \cap Z'$ contains an open set of $X_0$ to prove that $Z'$ is constructible.
\bigskip\\
Consider the quotients $A / \p$ and $B / \p B$. Since $A / \p$ is a Noetherian domain since $A$ is Noetherian and $\p$ is prime and $B / \p B$ is a finitely generated $A / \p$-algebra since $B$ is a finitely generated $A$-algebra then problem 4 applies. Therefore, there exists $c \in A / \p$ such that $\Spec{B / \p B} \to \Spec{A / \p}$ contains the open set $U(c)$ in its image.
\begin{center}
\begin{tikzcd}
\Spec{B / \p B} \arrow[r] \arrow[d] & \Spec{A / \p} \arrow[d]
\\
\Spec{B} \arrow[r] & \Spec{A}
\end{tikzcd}
\end{center}
However, the image of $\Spec{A / \p}$ in $\Spec{A}$ is $V(\p) = X_0$ and thus $U(c) \subset X_0 \cap Z'$ since $U(c)$ is contained in the image of $\Spec{B}$ since it is contained in the image of $\Spec{B / \p B}$. Therefore, $Z'$ is constructible.
\bigskip\\
For the general case, let $Z \subset \Spec{B}$ be constructible. Since $B$ is a finitely generated $A$-algebra over a Noetherian ring, it is Noetherian itself and thus we can apply problem 3. There exists a finitely-generated $B$-algebra $B'$ over $B$ such that the image of the induced map $\Spec{B'} \to \Spec{B}$ is exactly $Z$. Then consider,
\begin{center}
\begin{tikzcd}
\Spec{B'} \arrow[rd] \arrow[r] & \Spec{B} \arrow[d]
\\
& \Spec{A}
\end{tikzcd}
\end{center}
The induced map $\Spec{B'} \to \Spec{A}$ is the composition of $\Spec{B'} \to \Spec{B}$ and $\Spec{B} \to \Spec{A}$. Therefore, the image of $\Spec{B'}$ in $\Spec{A}$ is exactly $Z'$ the image of $Z$ (which is the image of $\Spec{B'} \to \Spec{B}$) under $\Spec{B} \to \Spec{A}$. Therefore, $Z'$ is constructible since it is the image of $\Spec{B'}$ and $B'$ is a finitely-generated $A$-algebra. 

\subsection*{(b)}

Suppose that the going-down property holds for $A \to B$. Let $U \subset \Spec{B}$ be open and thus constructible. By the previous proposition, its image $U'$ in $\Spec{A}$ is also constructible. Let $Z = \Spec{A} \setminus U'$ which is also constructible and let $W$ be an irreducible component of $\overline{Z}$. Thus, $W$ is a closed irreducible subset of $\Spec{A}$ and $Z$ is constructible and $Z \cap W$ is dense in $W$ (since $W$ is a component of $\overline{Z}$) so there exists $O$ a nonempty open subset of $W$ contained in $Z \cap W$. Since $W$ is closed and irreducible in $\Spec{A}$ it must have a generic point $W = V(\p)$. Since $O$ is a nonempty open subset of $W$ we must have $\p \in O$ otherwise $\p \in O^C$ but $\p$ is a generic point so its closure is $W$ contradicting the fact that $O^C$ is a proper subset of $W$. Thus $\p \in Z$. Furthermore, for any prime $\p \subset \p'$ if $\p'$ is in the image of $\Spec{B}$ then by the going-down property we must also have $\p$ in the image. Therefore, if $\p \subset \p'$ since $\p \in Z$ we also have $\p' \in Z$ so $W = V(\p) \subset Z$. Since each irreducible component of $\overline{Z}$ lies in $Z$ we must have $\overline{Z} = Z$ and thus $Z$ is closed so $U = Z^C$ is open proving that $\Spec{B} \to \Spec{A}$ is an open map. 

\section{Lemata}


\begin{lemma} \label{radical_generates_same_set}
For any ideal $I \subset A$,
\[ V(I) = V(\sqrt{I}) \]
\end{lemma}

\begin{proof} 
Suppose that $\p \in V(I)$ and then $\p \supset I$ so clearly,
\[ \p \supset \bigcap_{\p \supset I} \p = \sqrt{I} \]
and thus $\p \in V(\sqrt{I})$. Conversely, since,
\[ \sqrt{I} = \bigcap_{\p \supset I} \p \supset I \]
we know that $V(\sqrt{I}) \subset V(I)$. Therefore, $V(I) = V(\sqrt{I})$. 
\end{proof}

\begin{lemma} \label{radical_order}
$V(I) \subset V(J)$ if and only if $\sqrt{I} \supset \sqrt{J}$.
\end{lemma}

\begin{proof}
If $V(I) \subset V(J)$ then for each prime $\p \supset I$ we have $\p \supset J$. Therefore,
\[  \sqrt{I} = \bigcap_{\p \supset I} \p \supset \bigcap_{\p \supset J} = \sqrt{J} \]
since the left is an intersection over a strict subset. Furthermore, if $\sqrt{I} \supset \sqrt{J}$ then clearly $V(\sqrt{I}) \subset V(\sqrt{j})$ since $\p \supset \sqrt{I} \supset \sqrt{J}$ implies $\p \supset \sqrt{J}$. However, $V(I) = V(\sqrt{I})$ for any ideal. Together, this implies that $V(I) \subset V(J)$. 
\end{proof}

\begin{corollary}
If $V(I) = V(J)$ then $\sqrt{I} = \sqrt{J}$.
\end{corollary}

\begin{lemma} \label{prime_disjoint_to}
Let $A$ be a ring and $S \subset A$ a multiplicative set. There exists a prime ideal $\p$ disjoint to $S$ above any ideal disjoint to $I$. 
\end{lemma}

\begin{proof}
Let $\Sigma$ be the poset under inclusion of ideals of $A$ disjoint to $S$. $\Sigma$ is nonempty since it contains $(0)$. Suppose that $\mathcal{I} \subset \Sigma$ is a chain and consider,
\[ U = \bigcup_{I \in \mathcal{I}} I \]
This is an ideal because if $x, y \in U$ then $x \in I$ and $y \in I'$ for $I, I' \in \mathcal{I}$ but $\mathcal{I}$ is totally ordered so either $I \subset I'$ or $I' \subset I$ and thus the larger contains both $x$ and $y$ and therefore the sum and the multiples are in $U$. 
Furthermore,
\[ S \cap U = \bigcup_{I \in \mathcal{I}} S \cap I = \varnothing \]
so $U \in \Sigma$. However, $\forall I \in \mathcal{I} : I \subset U$. Since every chain has a maximum, by Zorn's Lemma there exist maximal elements of $\Sigma$ above every ideal $I \in \Sigma$. Suppose $\m \in \Sigma$ is maximal and $x,y \notin \m$. Then, by maximality, $(x) + \m \notin \Sigma$ and $(y) + \m \notin \Sigma$ so they must contain elements of $S$ say $s_x \in (x) + \m$ and $s_y \in (y) + \m$ then $s_x s_y \in [(x) + \m][(y) + \m] \subset (xy) + \m$ but $s_x s_y \notin \m$ since $s_x s_y \in S$ but $\m \in \Sigma$. Therefore, $xy \notin \m$ otherwise $s_x s_y \in (xy) + \m = \m$. Thus, $\m$ is a prime disjoint to $S$ above a particular $I \in \Sigma$. 
\end{proof}

\begin{lemma}
Every irreducible component is closed.
\end{lemma}

\begin{proof}
Suppose that $D \subset X$ is irreducible. Then suppose we can decompose $\overline{D} = Z_1 \cup Z_2$ as a union of closed proper sets. Then, $Z_1 \cap D$ and $Z_2 \cap D$ are closed in $D$ and cover $D$ so by irreducibility WLOG $Z_1 \cap D = D$. Thus, $Z_1$ is a closed set containing $D$ so $Z_1 \supset \overline{D}$ proving that $\overline{D}$ is irreducible. Therefore, if $D$ is an irreducible component then it must be a maximal irreducible set so $D = \overline{D}$ otherwise $\overline{D}$ would be an irreducible set properly containing it. 
\end{proof}

\begin{lemma}
Any topological space can be written as the union of its irreducible components.
\end{lemma}

\begin{proof}
Let $\Sigma$ be the set of irreducible subsets of $X$ which is a poset under inclusion. Let $\mathcal{C} \subset \Sigma$ be a chain and consider,
\[ U = \bigcup_{D \in \mathcal{C}} C \]
I claim that $U$ is irreducible. If we could decompose $U = Z_1 \cup Z_2$ into proper closed sets then, for each $D \in \mathcal{C}$, the sets $Z_1 \cap D$ and $Z_2 \cap D$ would be closed in $D$ and cover $D$. Since $Z_1$ and $Z_2$ are not proper there must exist $D_1$ and $D_2$ with $D_1 \not\subset Z_1$ and $D_2 \not\subset Z_2$ but WLOG $D_1 \subset D_2$ since they are in a chain. Thus, $Z_1 \cap D_2$ and $Z_2 \cap D_2$ are proper closed sets covering $D_2$ contradicting its irreducibility. Thus, $U$ is irreducible so $U \in \Sigma$. Since each chain has a maximum element, by Zorn's Lemma, there exists a maximal element of $\Sigma$ above any $D \in \Sigma$. Specifically, if $x \in X$ is any point, then $\overline{\{x\}}$ is irreducible because if $\overline{\{x\}} = Z_1 \cup Z_2$ then WLOG $x \in Z_1$ so $Z_1$ is a closed set containing $x$ which implies that $\overline{\{x\}} \subset Z_1$. Thus, each point of $x$ is contained in a maximal irreducible set proving the lemma. 
\end{proof}

\begin{lemma} \label{finite_union_elementary_open}
Let $A$ be a Noetherian ring then any open set of $\Spec{A}$ can be written as a finite union of elementary open sets $U(f) = V((f))^C$. 
\end{lemma}

\begin{proof}
Any open set $U = V(I)^C$ for some ideal $I \subset A$. Since $A$ is Noetherian, the ideal $I$ is finitely-generated so we may write,
\[ I = Af_1 + \cdots A f_n \]
and thus,
\[ V(I) = V((f_1)) \cap \cdots \cap V((f_n)) \]
Therefore,
\[ U = V((f_1))^c \cup \cdots \cup V((f_n))^C = U(f_1) \cup \cdots \cup U(f_n) \]
\end{proof}

\begin{lemma} \label{spec_of_products}
Let $B_1$ and $B_2$ be $A$-algebras. Denote the natural maps $\iota_1 : A \to B_1$ and $\iota_2 : A \to B_2$. Then the diagonal gives a map,
\[ \Spec{B_1 \times B_2} \to \Spec{A} \]
whose image in $\Spec{A}$ is equal to,
\[ \iota_1^*(\Spec{B_1}) \cup \iota_2^*(\Spec{B_2}) \]
\end{lemma}

\begin{proof}
Every prime ideal of $B_1 \times B_2$ is of the form $\P_1 \times B_2$ or $B_1 \times \P_2$ where $\P_1$ is a prime ideal of $B_1$ and $\P_2$ is a prime ideal of $B_2$. Therefore, under the map $\iota_1 \times \iota_2 : A \to B_1 \times B_2$, the preimage of the prime $\P_1 \times B_1$ is the prime $\iota_1^{-1}(\P_1)$ and the preimage of the prime $B_1 \times \P_2$ is $\iota_2^{-1}(\P_2)$. Therefore, the image of this map over all primes of $B_1 \times B_2$ gives exactly the required union. 
\end{proof}

\end{document}